<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learning Center - Pratibimb</title>
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background: #f8f9fa; 
            line-height: 1.6; 
            color: #333;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        .page-wrapper {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
        
        .content-wrapper {
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        /* Header Styles - Matching existing UI */
        .infosys-header { 
            background: #7B2CBF; 
            color: white; 
            padding: 15px 0; 
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            position: relative;
            z-index: 1000;
        }
        
        .header-content { 
            max-width: 1400px; 
            margin: 0 auto; 
            padding: 0 30px; 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
        }
        
        .header-left { 
            display: flex; 
            align-items: center; 
        }
        
        .menu-toggle {
            background: none;
            border: none;
            color: white;
            font-size: 1.2em;
            margin-right: 15px;
            cursor: pointer;
            padding: 8px;
            border-radius: 4px;
            transition: background 0.3s ease;
        }
        
        .menu-toggle:hover {
            background: rgba(255,255,255,0.1);
        }
        
        .header-title { 
            font-size: 1.4em; 
            font-weight: 600; 
            color: #fff;
            margin: 0;
        }
        
        .header-title .separator {
            margin: 0 10px;
            opacity: 0.7;
        }
        
        .header-right { 
            display: flex; 
            align-items: center; 
            gap: 15px;
        }
        
        .user-info { 
            color: rgba(255,255,255,0.95); 
            font-size: 0.9em;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .user-avatar { 
            width: 35px; 
            height: 35px; 
            border-radius: 50%; 
            background: rgba(255,255,255,0.15); 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            font-weight: bold; 
            font-size: 1em;
            border: 2px solid rgba(255,255,255,0.3);
        }

        /* Language Selector Styles */
        .language-selector {
            position: relative;
            margin-right: 20px;
            z-index: 1000;
        }

        .language-dropdown {
            position: relative;
            z-index: 1001;
        }

        .language-btn {
            background: rgba(255,255,255,0.1);
            border: 2px solid rgba(255,255,255,0.2);
            color: white;
            padding: 8px 12px;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9em;
            font-weight: 500;
            transition: all 0.3s ease;
            min-width: 120px;
            justify-content: space-between;
        }

        .language-btn:hover {
            background: rgba(255,255,255,0.2);
            border-color: rgba(255,255,255,0.4);
            transform: translateY(-1px);
        }

        .language-options {
            position: absolute;
            top: calc(100% + 8px);
            right: 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(123, 44, 191, 0.2);
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(123, 44, 191, 0.15);
            min-width: 200px;
            z-index: 9999;
            display: none;
            opacity: 0;
            transform: translateY(-10px) scale(0.95);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: hidden;
        }

        .language-options.show {
            display: block;
            opacity: 1;
            transform: translateY(0) scale(1);
        }

        .language-options[style*="block"] {
            display: block !important;
            opacity: 1 !important;
            transform: translateY(0) scale(1) !important;
            visibility: visible !important;
        }

        .language-option {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px 18px;
            cursor: pointer;
            transition: all 0.2s ease;
            border-bottom: 1px solid rgba(123, 44, 191, 0.08);
            color: #333;
            font-weight: 500;
        }

        .language-option:last-child {
            border-bottom: none;
        }

        .language-option:hover {
            background: linear-gradient(135deg, rgba(123, 44, 191, 0.1), rgba(156, 60, 219, 0.08));
            color: #7b2cbf;
            transform: translateX(-2px);
        }

        .language-option.active {
            background: linear-gradient(135deg, rgba(123, 44, 191, 0.15), rgba(156, 60, 219, 0.1));
            color: #7b2cbf;
            font-weight: 600;
        }

        .option-flag {
            font-size: 18px;
            filter: drop-shadow(0 1px 2px rgba(0,0,0,0.1));
        }

        .option-name {
            font-size: 14px;
            letter-spacing: 0.025em;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 15px;
            position: relative;
            overflow: visible !important;
            z-index: 1000;
        }

        .role-badge {
            background: #28a745;
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.75em;
            font-weight: 600;
            margin-left: 8px;
        }

        /* Navigation Tabs */
        .nav-tabs {
            background: linear-gradient(135deg, #6a1b9a 0%, #7b2cbf 50%, #8e24aa 100%);
            border-top: 1px solid rgba(255,255,255,0.2);
            padding: 0;
            margin: 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
            position: relative;
            z-index: 999;
        }

        .nav-tabs-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 30px;
            display: flex;
            gap: 0;
            overflow-x: auto;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .nav-tabs-container::-webkit-scrollbar {
            display: none;
        }

        .nav-tab {
            background: none;
            border: none;
            color: rgba(255,255,255,0.85);
            padding: 14px 24px;
            font-size: 0.95em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 10px;
            white-space: nowrap;
            position: relative;
            min-width: fit-content;
        }

        .nav-tab:hover {
            color: #ffffff;
            background: rgba(255,255,255,0.1);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .nav-tab.active {
            color: #ffffff;
            border-bottom-color: #ffffff;
            background: rgba(255,255,255,0.15);
            font-weight: 700;
            box-shadow: 0 4px 12px rgba(0,0,0,0.25);
        }

        .nav-tab-icon {
            font-size: 1.1em;
            color: inherit;
            transition: transform 0.3s ease;
        }

        .nav-tab:hover .nav-tab-icon {
            transform: scale(1.1);
        }
        /* Main Layout */
        .main-content {
            width: 100%;
            margin: 0;
            padding: 0;
            display: flex;
            gap: 0;
            min-height: calc(100vh - 160px);
        }

        /* Left Sidebar - Learning Tools */
        .learning-sidebar {
            background: white;
            border-radius: 0;
            padding: 20px;
            box-shadow: 2px 0 8px rgba(0,0,0,0.1);
            height: fit-content;
            min-height: calc(100vh - 160px);
            position: sticky;
            top: 0;
            border-right: 1px solid #e9ecef;
            width: 280px;
            transition: width 0.3s ease;
            overflow: hidden;
            flex-shrink: 0;
        }

        .learning-sidebar.collapsed {
            width: 0;
            padding: 0;
            border-right: none;
            box-shadow: none;
        }

        .learning-sidebar h3 {
            color: #7b2cbf;
            margin-bottom: 20px;
            font-size: 1.2em;
            border-bottom: 2px solid #7b2cbf;
            padding-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
            position: relative;
        }

        .learning-sidebar.collapsed h3 {
            display: none;
        }

        .sidebar-title {
            display: flex;
            align-items: center;
            gap: 10px;
            transition: opacity 0.3s ease;
        }

        .learning-sidebar.collapsed .sidebar-title {
            opacity: 0;
        }

        .sidebar-toggle {
            background: none;
            border: none;
            color: #7b2cbf;
            font-size: 1em;
            cursor: pointer;
            padding: 5px;
            border-radius: 4px;
            transition: background 0.3s ease;
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
        }

        .sidebar-toggle:hover {
            background: rgba(123, 44, 191, 0.1);
        }

        /* Floating Toggle Button for Collapsed State */
        .floating-toggle {
            position: fixed;
            top: 220px;
            left: 10px;
            width: 40px;
            height: 40px;
            background: #7b2cbf;
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2em;
            box-shadow: 0 4px 12px rgba(123, 44, 191, 0.3);
            transition: all 0.3s ease;
            z-index: 1000;
            display: none;
        }

        .floating-toggle:hover {
            background: #5a189a;
            transform: scale(1.05);
        }

        .floating-toggle.show {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .learning-tool {
            display: flex;
            align-items: center;
            padding: 15px 12px;
            color: #666;
            text-decoration: none;
            border-radius: 6px;
            transition: all 0.3s ease;
            margin-bottom: 8px;
            cursor: pointer;
            border: 1px solid transparent;
        }

        .learning-sidebar.collapsed .learning-tool {
            padding: 15px 5px;
            justify-content: center;
        }

        .learning-sidebar.collapsed .learning-tool > div:last-child {
            display: none;
        }

        .learning-tool:hover {
            background: #f8f9fa;
            color: #7b2cbf;
            border-color: #e9ecef;
            transform: translateX(5px);
        }

        .learning-sidebar.collapsed .learning-tool:hover {
            transform: scale(1.1);
        }

        .learning-tool.active {
            background: linear-gradient(135deg, #7b2cbf 0%, #5a189a 100%);
            color: white;
            box-shadow: 0 2px 8px rgba(123, 44, 191, 0.3);
        }

        .learning-tool-icon {
            font-size: 1.3em;
            margin-right: 15px;
            width: 25px;
            text-align: center;
            flex-shrink: 0;
        }

        .learning-sidebar.collapsed .learning-tool-icon {
            margin-right: 0;
        }

        .learning-tool-title {
            font-weight: 600;
            font-size: 0.95em;
        }

        .learning-tool-desc {
            font-size: 0.8em;
            opacity: 0.8;
            margin-top: 2px;
        }

        /* Main Content Area */
        .learning-content {
            background: white;
            border-radius: 0;
            box-shadow: none;
            overflow: hidden;
            padding: 0;
            flex: 1;
            transition: all 0.3s ease;
        }

        .content-section {
            display: none;
            padding: 40px 50px;
        }

        .content-section.active {
            display: block;
        }

        /* YouTube to Braille Section Styles */
        .converter-section {
            max-width: 100%;
        }

        .section-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .section-header h2 {
            color: #7b2cbf;
            font-size: 2.2em;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .section-header .fab.fa-youtube {
            color: #ff0000;
            font-size: 1.1em;
        }

        .section-header p {
            color: #666;
            font-size: 1.1em;
            margin: 0;
        }

        .converter-form {
            margin-bottom: 30px;
        }

        .input-group {
            max-width: 100%;
            margin: 0 auto;
        }

        .input-wrapper {
            display: flex;
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .input-wrapper:focus-within {
            border-color: #7b2cbf;
            box-shadow: 0 4px 15px rgba(123, 44, 191, 0.2);
        }

        .input-icon {
            padding: 15px 20px;
            background: #f8f9fa;
            color: #ff0000;
            font-size: 1.3em;
            border-right: 1px solid #e9ecef;
            display: flex;
            align-items: center;
        }

        .url-input {
            flex: 1;
            padding: 15px 20px;
            border: none;
            outline: none;
            font-size: 1em;
            color: #333;
            margin-left: 50px;
        }

        .url-input::placeholder {
            color: #999;
        }

        .convert-btn {
            background: linear-gradient(135deg, #7b2cbf 0%, #5a189a 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1em;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .convert-btn:hover {
            background: linear-gradient(135deg, #5a189a 0%, #4a0e4e 100%);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(123, 44, 191, 0.4);
        }

        /* Progress Container */
        .progress-container {
            max-width: 100%;
            margin: 20px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #7b2cbf;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #7b2cbf 0%, #5a189a 100%);
            width: 0%;
            transition: width 0.3s ease;
            border-radius: 4px;
        }

        .progress-text {
            text-align: center;
            color: #666;
            font-weight: 500;
        }

        /* Results Area */
        .results-area {
            max-width: 100%;
            margin: 30px 0 0;
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .result-tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
        }

        .tab-btn {
            flex: 1;
            padding: 15px 20px;
            border: none;
            background: none;
            color: #666;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            border-bottom: 3px solid transparent;
        }

        .tab-btn:hover {
            background: rgba(123, 44, 191, 0.1);
            color: #7b2cbf;
        }

        .tab-btn.active {
            background: white;
            color: #7b2cbf;
            border-bottom-color: #7b2cbf;
        }

        .tab-content {
            background: white;
        }

        .tab-panel {
            display: none;
            padding: 20px;
        }

        .tab-panel.active {
            display: block;
        }

        .result-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #e9ecef;
        }

        .result-header h3 {
            color: #333;
            font-size: 1.1em;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .result-actions {
            display: flex;
            gap: 10px;
        }

        .action-btn {
            background: #7b2cbf;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9em;
            font-weight: 500;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .action-btn:hover {
            background: #5a189a;
            transform: translateY(-1px);
            box-shadow: 0 3px 10px rgba(123, 44, 191, 0.3);
        }

        .result-content {
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid #e9ecef;
            border-radius: 5px;
            padding: 15px;
            background: #f8f9fa;
        }

        .transcript-content {
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            line-height: 1.6;
        }

        .transcript-text {
            color: #333;
        }

        .highlight-yellow {
            background: #fff3cd;
            padding: 2px 4px;
            border-radius: 3px;
        }

        .result-textarea {
            width: 100%;
            min-height: 350px;
            padding: 15px;
            border: 1px solid #e9ecef;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            line-height: 1.5;
            resize: vertical;
            background: #f8f9fa;
            color: #333;
        }

        .braille-text {
            font-family: 'Arial Unicode MS', 'DejaVu Sans', sans-serif;
            font-size: 1.2em;
            line-height: 2;
        }

        .monospace-text {
            font-family: 'Courier New', 'Consolas', monospace;
            font-size: 0.85em;
        }

        /* Quick Stats */
        .quick-stats {
            margin-top: 20px;
            padding: 20px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 8px;
            border: 1px solid #e9ecef;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 15px;
            background: white;
            border-radius: 6px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .stat-item i {
            color: #7b2cbf;
            font-size: 1.2em;
        }

        .stat-label {
            color: #666;
            font-size: 0.9em;
        }

        .stat-value {
            color: #333;
            font-weight: 600;
            margin-left: auto;
        }

        /* Placeholder Content for Other Tools */
        .placeholder-content {
            text-align: center;
            padding: 60px 20px;
            color: #666;
        }

        .placeholder-content i {
            font-size: 4em;
            color: #e9ecef;
            margin-bottom: 20px;
        }

        .placeholder-content h3 {
            color: #7b2cbf;
            margin-bottom: 10px;
            font-size: 1.5em;
        }

        .placeholder-content p {
            font-size: 1.1em;
            margin-bottom: 20px;
        }

        .coming-soon-badge {
            display: inline-block;
            background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%);
            color: #333;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: 600;
            box-shadow: 0 2px 8px rgba(255, 215, 0, 0.3);
        }

        /* Footer */
        .infosys-footer { 
            background: #343a40; 
            color: #fff; 
            text-align: center; 
            padding: 15px 0; 
            border-top: 3px solid #7b2cbf;
            position: relative;
            z-index: 100;
            margin-top: auto;
        }
        
        .footer-content { 
            max-width: 1200px; 
            margin: 0 auto; 
            padding: 0 40px; 
        }
        
        .footer-text { 
            font-size: 0.9em; 
            color: #adb5bd; 
        }

        /* Responsive Design */
        @media (max-width: 992px) {
            .main-content {
                grid-template-columns: 1fr;
                gap: 0;
                padding: 0;
            }

            .learning-sidebar {
                position: static;
                order: 2;
                min-height: auto;
                border-right: none;
                border-bottom: 1px solid #e9ecef;
                border-radius: 0;
            }

            .learning-content {
                order: 1;
            }

            .content-section {
                padding: 20px 30px;
            }

            .nav-tabs-container {
                padding: 0 15px;
            }

            .nav-tab {
                padding: 12px 18px;
                font-size: 0.9em;
            }
        }

        @media (max-width: 768px) {
            .header-content {
                padding: 0 20px;
            }

            .section-header h2 {
                font-size: 1.8em;
                flex-direction: column;
                gap: 10px;
            }

            .input-wrapper {
                flex-direction: column;
            }

            .convert-btn {
                border-radius: 0 0 8px 8px;
                justify-content: center;
            }

            .input-icon {
                border-right: none;
                border-bottom: 1px solid #e9ecef;
                border-radius: 0;
            }

            .result-tabs {
                flex-wrap: wrap;
            }

            .tab-btn {
                min-width: 50%;
                flex: none;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .nav-tabs-container {
                padding: 0 10px;
                gap: 2px;
            }

            .nav-tab {
                padding: 10px 14px;
                font-size: 0.8em;
                gap: 6px;
                flex: 1;
                justify-content: center;
            }

            .content-section {
                padding: 15px 20px;
            }
        }

        /* Loading and Toast Styles */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
        }

        .loading-spinner {
            background: white;
            padding: 30px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .loading-spinner i {
            font-size: 2em;
            color: #7b2cbf;
            margin-bottom: 15px;
        }

        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: white;
            padding: 15px 20px;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 9998;
            max-width: 400px;
        }

        .toast.show {
            transform: translateY(0);
            opacity: 1;
        }

        .toast-content {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .toast.success .toast-icon {
            color: #28a745;
        }

        .toast.error .toast-icon {
            color: #dc3545;
        }

        .toast-message {
            color: #333;
            font-weight: 500;
        }

        /* Braille Art Editor Styles */
        .braille-art-section {
            max-width: 100%;
        }

        .tool-description {
            margin-bottom: 30px;
        }

        .description-card {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 25px;
            border-radius: 12px;
            border-left: 4px solid #7b2cbf;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .description-card h3 {
            color: #7b2cbf;
            margin-bottom: 15px;
            font-size: 1.3em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .description-card p {
            color: #555;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .benefit-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            transition: transform 0.3s ease;
        }

        .benefit-item:hover {
            transform: translateY(-2px);
        }

        .benefit-item i {
            color: #7b2cbf;
            font-size: 1.2em;
        }

        .benefit-item span {
            font-weight: 600;
            color: #333;
        }

        .topic-input-section {
            margin-bottom: 30px;
        }

        .input-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            border: 2px solid #e9ecef;
        }

        .input-card h3 {
            color: #7b2cbf;
            margin-bottom: 20px;
            font-size: 1.2em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .topic-input-wrapper {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }

        .topic-input {
            flex: 1;
            padding: 15px 20px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 1em;
            transition: border-color 0.3s ease;
        }

        .topic-input:focus {
            outline: none;
            border-color: #7b2cbf;
            box-shadow: 0 0 0 3px rgba(123, 44, 191, 0.1);
        }

        .generate-btn {
            background: linear-gradient(135deg, #7b2cbf 0%, #5a189a 100%);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            white-space: nowrap;
        }

        .generate-btn:hover {
            background: linear-gradient(135deg, #5a189a 0%, #4a0e4e 100%);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(123, 44, 191, 0.4);
        }

        .quick-topics {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            align-items: center;
        }

        .quick-topic-label {
            color: #666;
            font-weight: 600;
            margin-right: 10px;
        }

        .quick-topic-btn {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9em;
            font-weight: 500;
        }

        .quick-topic-btn:hover {
            background: #7b2cbf;
            color: white;
            border-color: #7b2cbf;
        }

        .generated-content {
            margin-top: 30px;
        }

        .audio-section {
            margin-bottom: 30px;
        }

        .audio-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            border-left: 4px solid #28a745;
        }

        .audio-card h3 {
            color: #28a745;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .audio-player {
            margin-bottom: 20px;
        }

        .play-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .play-btn:hover {
            background: #218838;
            transform: scale(1.05);
        }

        .play-btn.playing {
            background: #dc3545;
        }

        .play-btn.playing i:before {
            content: "\f04c";
        }

        .audio-controls {
            margin-top: 15px;
        }

        .audio-progress {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .progress-bar {
            flex: 1;
            height: 6px;
            background: #e9ecef;
            border-radius: 3px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: #28a745;
            width: 0%;
            transition: width 0.1s ease;
        }

        .time-display {
            color: #666;
            font-size: 0.9em;
            font-weight: 500;
        }

        .audio-text {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #e9ecef;
        }

        .audio-text p {
            margin-bottom: 10px;
            line-height: 1.6;
        }

        .audio-text p:last-child {
            margin-bottom: 0;
        }

        .images-section {
            margin-bottom: 30px;
        }

        .images-section h3 {
            color: #7b2cbf;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .images-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .image-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            border: 2px solid #e9ecef;
            transition: transform 0.3s ease;
        }

        .image-card:hover {
            transform: translateY(-5px);
            border-color: #7b2cbf;
        }

        .image-preview {
            height: 200px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            border-bottom: 1px solid #e9ecef;
        }

        .braille-pattern {
            font-family: 'Arial Unicode MS', 'DejaVu Sans', sans-serif;
            font-size: 2em;
            color: #7b2cbf;
            text-align: center;
            line-height: 1.5;
            padding: 20px;
        }

        .image-info {
            padding: 20px;
        }

        .image-id {
            background: #7b2cbf;
            color: white;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 0.8em;
            font-weight: 600;
            display: inline-block;
            margin-bottom: 10px;
        }

        .image-title {
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
            font-size: 1.1em;
        }

        .image-description {
            color: #666;
            font-size: 0.9em;
            line-height: 1.5;
            margin-bottom: 15px;
        }

        .image-actions {
            display: flex;
            gap: 10px;
        }

        .image-btn {
            background: #7b2cbf;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.85em;
            font-weight: 500;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .image-btn:hover {
            background: #5a189a;
            transform: translateY(-1px);
        }

        .image-btn.print-btn {
            background: #28a745;
        }

        .image-btn.print-btn:hover {
            background: #218838;
        }

        .session-controls {
            margin: 30px 0;
            padding: 25px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .control-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .control-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .save-btn {
            background: #007bff;
            color: white;
        }

        .save-btn:hover {
            background: #0056b3;
        }

        .print-btn {
            background: #28a745;
            color: white;
        }

        .print-btn:hover {
            background: #218838;
        }

        .change-topic-btn {
            background: #ffc107;
            color: #333;
        }

        .change-topic-btn:hover {
            background: #e0a800;
        }

        .saved-sessions {
            margin-top: 30px;
            padding: 25px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .saved-sessions h3 {
            color: #7b2cbf;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .sessions-list {
            display: grid;
            gap: 15px;
        }

        .session-item {
            padding: 15px 20px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #7b2cbf;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background 0.3s ease;
        }

        .session-item:hover {
            background: #e9ecef;
        }

        .session-info {
            flex: 1;
        }

        .session-title {
            font-weight: 600;
            color: #333;
            margin-bottom: 5px;
        }

        .session-meta {
            color: #666;
            font-size: 0.9em;
        }

        .session-actions {
            display: flex;
            gap: 10px;
        }

        .session-btn {
            background: #7b2cbf;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8em;
            transition: all 0.3s ease;
        }

        .session-btn:hover {
            background: #5a189a;
        }

        /* Braille Learning System Styles */
        .braille-learning-section {
            max-width: 100%;
        }

        .topic-selection-section {
            margin-bottom: 30px;
        }

        .learning-session {
            margin-top: 30px;
        }

        .original-content-section,
        .typing-interface-section,
        .comparison-results {
            margin-bottom: 30px;
        }

        .content-card,
        .typing-card,
        .results-card,
        .history-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            border: 2px solid #e9ecef;
        }

        .content-card h3,
        .typing-card h3,
        .results-card h3,
        .history-card h3 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.2em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .content-display {
            margin-bottom: 20px;
        }

        .topic-title {
            font-size: 1.4em;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 15px;
            padding: 10px 15px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 8px;
            border-left: 4px solid #3498db;
        }

        .content-text {
            line-height: 1.8;
            color: #555;
            font-size: 1.05em;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            border: 1px solid #e9ecef;
        }

        .audio-controls-section {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .audio-control-btn {
            background: #27ae60;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            align-self: flex-start;
        }

        .audio-control-btn:hover {
            background: #229954;
            transform: translateY(-2px);
        }

        .audio-control-btn.playing {
            background: #e74c3c;
        }

        .audio-control-btn.playing:hover {
            background: #c0392b;
        }

        .audio-progress-section {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .time-info {
            color: #666;
            font-size: 0.9em;
            font-weight: 500;
        }

        .typing-instructions {
            background: #e8f4fd;
            padding: 15px 20px;
            border-radius: 8px;
            border-left: 4px solid #3498db;
            margin-bottom: 20px;
        }

        .typing-instructions p {
            margin: 0;
            color: #2c3e50;
            font-weight: 500;
        }

        .virtual-keyboard {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #e9ecef;
            margin-bottom: 20px;
        }

        .keyboard-row {
            display: flex;
            gap: 8px;
            margin-bottom: 8px;
            flex-wrap: wrap;
        }

        .braille-key {
            background: white;
            border: 2px solid #e9ecef;
            padding: 10px 12px;
            border-radius: 6px;
            cursor: pointer;
            font-family: 'Arial Unicode MS', 'DejaVu Sans', sans-serif;
            font-size: 0.9em;
            font-weight: 600;
            transition: all 0.3s ease;
            min-width: 50px;
            text-align: center;
        }

        .braille-key:hover {
            background: #3498db;
            color: white;
            border-color: #3498db;
            transform: translateY(-2px);
        }

        .braille-key.space-key {
            min-width: 100px;
        }

        .braille-key.clear-key {
            background: #e74c3c;
            color: white;
            border-color: #e74c3c;
        }

        .braille-key.clear-key:hover {
            background: #c0392b;
            border-color: #c0392b;
        }

        .typing-area {
            margin-bottom: 20px;
        }

        .typing-area label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
        }

        .braille-input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-family: 'Arial Unicode MS', 'DejaVu Sans', sans-serif;
            font-size: 1.1em;
            line-height: 1.6;
            resize: vertical;
            transition: border-color 0.3s ease;
        }

        .braille-input:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }

        .typing-controls {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .control-btn {
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .typing-complete-btn {
            background: #27ae60;
            color: white;
        }

        .typing-complete-btn:hover {
            background: #229954;
            transform: translateY(-2px);
        }

        .clear-typing-btn {
            background: #95a5a6;
            color: white;
        }

        .clear-typing-btn:hover {
            background: #7f8c8d;
        }

        .comparison-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-item {
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 8px;
            border: 1px solid #e9ecef;
        }

        .stat-value {
            font-size: 2em;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #666;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.85em;
        }

        .comparison-display {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .comparison-column h4 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.1em;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .original-braille,
        .student-braille {
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            border: 1px solid #e9ecef;
            font-family: 'Arial Unicode MS', 'DejaVu Sans', sans-serif;
            font-size: 1.1em;
            line-height: 1.8;
            min-height: 150px;
        }

        .original-braille {
            border-left: 4px solid #27ae60;
        }

        .student-braille {
            border-left: 4px solid #3498db;
        }

        .error-analysis {
            margin-bottom: 30px;
        }

        .error-analysis h4 {
            color: #e74c3c;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .error-list {
            background: #fdf2f2;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #e74c3c;
            margin-bottom: 15px;
        }

        .error-item {
            padding: 10px 0;
            border-bottom: 1px solid #f5c6cb;
        }

        .error-item:last-child {
            border-bottom: none;
        }

        .error-position {
            font-weight: 600;
            color: #721c24;
        }

        .error-details {
            color: #856404;
            margin-top: 5px;
        }

        .audio-feedback {
            text-align: center;
        }

        .feedback-btn {
            background: #f39c12;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .feedback-btn:hover {
            background: #e67e22;
            transform: translateY(-2px);
        }

        .session-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .action-btn {
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .save-session-btn {
            background: #3498db;
            color: white;
        }

        .save-session-btn:hover {
            background: #2980b9;
        }

        .new-session-btn {
            background: #27ae60;
            color: white;
        }

        .new-session-btn:hover {
            background: #229954;
        }

        .print-results-btn {
            background: #95a5a6;
            color: white;
        }

        .print-results-btn:hover {
            background: #7f8c8d;
        }

        .sessions-history {
            margin-top: 30px;
        }

        .history-list {
            max-height: 300px;
            overflow-y: auto;
        }

        .history-item {
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #3498db;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background 0.3s ease;
        }

        .history-item:hover {
            background: #e9ecef;
        }

        .history-info {
            flex: 1;
        }

        .history-topic {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .history-meta {
            color: #666;
            font-size: 0.9em;
        }

        .history-score {
            font-weight: 600;
            color: #27ae60;
            margin-right: 15px;
        }

        .history-actions {
            display: flex;
            gap: 8px;
        }

        .history-btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8em;
            transition: all 0.3s ease;
        }

        .history-btn:hover {
            background: #2980b9;
        }

        .history-btn.delete {
            background: #e74c3c;
        }

        .history-btn.delete:hover {
            background: #c0392b;
        }

        /* Highlight classes for comparison */
        .correct-match {
            background: #d4edda;
            color: #155724;
            padding: 2px 4px;
            border-radius: 3px;
        }

        .error-highlight {
            background: #f8d7da;
            color: #721c24;
            padding: 2px 4px;
            border-radius: 3px;
            text-decoration: underline;
        }

        .missing-text {
            background: #fff3cd;
            color: #856404;
            padding: 2px 4px;
            border-radius: 3px;
            font-style: italic;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .comparison-display {
                grid-template-columns: 1fr;
            }
            
            .comparison-stats {
                grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            }
            
            .keyboard-row {
                justify-content: center;
            }
            
            .session-actions,
            .typing-controls {
                justify-content: center;
            }
        }

        /* BRaaS Platform Styles */
        .braas-platform-section {
            max-width: 100%;
        }

        .platform-overview {
            margin-bottom: 40px;
        }

        .overview-card {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            border-radius: 16px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.1);
            overflow: hidden;
            border: 2px solid #e9ecef;
        }

        .overview-header {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .logo-section {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .logo-section i {
            font-size: 2.5em;
            color: #3498db;
        }

        .logo-section h2 {
            font-size: 2.2em;
            font-weight: 700;
            margin: 0;
        }

        .platform-tagline {
            font-size: 1.2em;
            color: #bdc3c7;
            font-weight: 500;
        }

        .overview-content {
            padding: 30px;
        }

        .introduction-text {
            margin-bottom: 30px;
        }

        .introduction-text p {
            font-size: 1.1em;
            line-height: 1.8;
            color: #2c3e50;
            margin-bottom: 20px;
        }

        .marketplace-link {
            color: #3498db;
            text-decoration: none;
            font-weight: 600;
            padding: 5px 10px;
            border-radius: 6px;
            border: 1px solid #3498db;
            transition: all 0.3s ease;
        }

        .marketplace-link:hover {
            background: #3498db;
            color: white;
            transform: translateY(-2px);
        }

        .service-highlights {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .highlight-item {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 4px solid #3498db;
            transition: transform 0.3s ease;
        }

        .highlight-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.1);
        }

        .highlight-item i {
            font-size: 1.8em;
            color: #3498db;
            margin-top: 5px;
        }

        .highlight-item h4 {
            color: #2c3e50;
            font-size: 1.1em;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .highlight-item p {
            color: #666;
            line-height: 1.6;
            margin: 0;
        }

        .service-categories {
            margin-bottom: 40px;
        }

        .service-categories h3 {
            color: #2c3e50;
            font-size: 1.8em;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 30px;
        }

        .category-card {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 6px 25px rgba(0,0,0,0.1);
            border: 2px solid #e9ecef;
            transition: all 0.3s ease;
        }

        .category-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 35px rgba(0,0,0,0.15);
        }

        .category-card.consumer {
            border-left: 4px solid #27ae60;
        }

        .category-card.vendor {
            border-left: 4px solid #e74c3c;
        }

        .category-icon {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            width: 70px;
            height: 70px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
        }

        .category-card.consumer .category-icon {
            border: 3px solid #27ae60;
        }

        .category-card.vendor .category-icon {
            border: 3px solid #e74c3c;
        }

        .category-icon i {
            font-size: 1.8em;
            color: #2c3e50;
        }

        .category-content h4 {
            color: #2c3e50;
            font-size: 1.4em;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .category-content p {
            color: #666;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .category-content ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .category-content li {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 0;
            color: #555;
            border-bottom: 1px solid #f1f1f1;
        }

        .category-content li:last-child {
            border-bottom: none;
        }

        .category-content li i {
            color: #27ae60;
            font-size: 0.9em;
        }

        .vendor-search-section {
            margin-bottom: 40px;
        }

        .search-card {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 6px 25px rgba(0,0,0,0.1);
            border: 2px solid #e9ecef;
        }

        .search-card h3 {
            color: #2c3e50;
            font-size: 1.6em;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .search-interface {
            margin-bottom: 20px;
        }

        .search-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .search-input-group {
            display: flex;
            gap: 15px;
        }

        .input-wrapper {
            flex: 1;
            position: relative;
            display: flex;
            align-items: center;
        }

        .input-wrapper i {
            position: absolute;
            /* left: 15px; */
            color: #666;
            z-index: 1;
        }

        .location-input {
            width: 100%;
            padding: 15px 20px 15px 45px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 1em;
            transition: border-color 0.3s ease;
        }

        .location-input:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }

        .search-btn {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            white-space: nowrap;
        }

        .search-btn:hover {
            background: linear-gradient(135deg, #2980b9 0%, #1f4e79 100%);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(52, 152, 219, 0.4);
        }

        .search-filters {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }

        .filter-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .filter-group label {
            font-weight: 600;
            color: #2c3e50;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .filter-select {
            padding: 10px 15px;
            border: 2px solid #e9ecef;
            border-radius: 6px;
            background: white;
            cursor: pointer;
            transition: border-color 0.3s ease;
        }

        .filter-select:focus {
            outline: none;
            border-color: #3498db;
        }

        .vendor-results {
            margin-bottom: 40px;
        }

        .results-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }

        .results-header h3 {
            color: #2c3e50;
            font-size: 1.6em;
            display: flex;
            align-items: center;
            gap: 12px;
            margin: 0;
        }

        .results-count {
            color: #666;
            font-weight: 600;
            padding: 8px 15px;
            background: #f8f9fa;
            border-radius: 20px;
        }

        .vendors-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
        }

        .vendor-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            border: 2px solid #e9ecef;
            transition: all 0.3s ease;
        }

        .vendor-card:hover {
            transform: translateY(-3px);
            border-color: #3498db;
            box-shadow: 0 8px 30px rgba(0,0,0,0.15);
        }

        .vendor-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }

        .vendor-info h4 {
            color: #2c3e50;
            font-size: 1.3em;
            margin-bottom: 5px;
            font-weight: 600;
        }

        .vendor-location {
            color: #666;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .vendor-badge {
            background: #27ae60;
            color: white;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 0.8em;
            font-weight: 600;
        }

        .vendor-services {
            margin-bottom: 15px;
        }

        .services-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .service-tag {
            background: #f8f9fa;
            color: #2c3e50;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.85em;
            border: 1px solid #e9ecef;
        }

        .vendor-actions {
            display: flex;
            gap: 10px;
        }

        .vendor-btn {
            flex: 1;
            padding: 10px 15px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
        }

        .vendor-btn.primary {
            background: #3498db;
            color: white;
        }

        .vendor-btn.primary:hover {
            background: #2980b9;
        }

        .vendor-btn.secondary {
            background: #e74c3c;
            color: white;
        }

        .vendor-btn.secondary:hover {
            background: #c0392b;
        }

        .integration-section {
            margin-bottom: 40px;
        }

        .integration-card {
            background: linear-gradient(135deg, #ffffff 0%, #f1f8ff 100%);
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 6px 25px rgba(0,0,0,0.1);
            border: 2px solid #3498db;
        }

        .integration-card h3 {
            color: #2c3e50;
            font-size: 1.6em;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .integration-card h3 i {
            color: #e74c3c;
        }

        .integration-description {
            margin-bottom: 25px;
        }

        .integration-description p {
            font-size: 1.1em;
            line-height: 1.7;
            color: #2c3e50;
        }

        .integration-workflow {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 25px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .workflow-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            min-width: 150px;
        }

        .step-number {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .step-content h4 {
            color: #2c3e50;
            font-size: 1em;
            margin-bottom: 5px;
            font-weight: 600;
        }

        .step-content p {
            color: #666;
            font-size: 0.9em;
            margin: 0;
        }

        .workflow-arrow {
            color: #3498db;
            font-size: 1.5em;
            margin: 0 10px;
        }

        .integration-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .action-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            text-decoration: none;
        }

        .converter-btn {
            background: #e74c3c;
            color: white;
        }

        .converter-btn:hover {
            background: #c0392b;
            transform: translateY(-2px);
        }

        .demo-btn {
            background: #27ae60;
            color: white;
        }

        .demo-btn:hover {
            background: #229954;
            transform: translateY(-2px);
        }

        .vendor-registration-section {
            margin-bottom: 40px;
        }

        .registration-card {
            background: linear-gradient(135deg, #ffffff 0%, #f8fff8 100%);
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 6px 25px rgba(0,0,0,0.1);
            border: 2px solid #27ae60;
        }

        .registration-card h3 {
            color: #2c3e50;
            font-size: 1.6em;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .registration-card h3 i {
            color: #27ae60;
        }

        .registration-intro {
            margin-bottom: 25px;
        }

        .registration-intro p {
            font-size: 1.1em;
            line-height: 1.7;
            color: #2c3e50;
        }

        .registration-benefits {
            margin-bottom: 30px;
        }

        .benefit-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .benefit-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            border: 1px solid #e9ecef;
            transition: transform 0.3s ease;
        }

        .benefit-card:hover {
            transform: translateY(-3px);
        }

        .benefit-card i {
            font-size: 2em;
            color: #27ae60;
            margin-bottom: 15px;
        }

        .benefit-card h4 {
            color: #2c3e50;
            font-size: 1.1em;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .benefit-card p {
            color: #666;
            font-size: 0.95em;
            line-height: 1.5;
            margin: 0;
        }

        .registration-form-preview {
            background: white;
            padding: 25px;
            border-radius: 8px;
            border: 1px solid #e9ecef;
        }

        .form-preview-header h4 {
            color: #2c3e50;
            font-size: 1.2em;
            margin-bottom: 20px;
            font-weight: 600;
        }

        .form-fields-preview {
            margin-bottom: 25px;
        }

        .field-group {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 0;
            border-bottom: 1px solid #f1f1f1;
        }

        .field-group:last-child {
            border-bottom: none;
        }

        .field-group i {
            color: #27ae60;
            font-size: 1.1em;
            width: 20px;
        }

        .field-group span {
            color: #2c3e50;
            font-weight: 500;
        }

        .registration-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .register-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .register-btn.primary {
            background: #27ae60;
            color: white;
        }

        .register-btn.primary:hover {
            background: #229954;
            transform: translateY(-2px);
        }

        .register-btn.secondary {
            background: #95a5a6;
            color: white;
        }

        .register-btn.secondary:hover {
            background: #7f8c8d;
        }

        .success-stories-section {
            margin-bottom: 40px;
        }

        .stories-card {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 6px 25px rgba(0,0,0,0.1);
            border: 2px solid #e9ecef;
        }

        .stories-card h3 {
            color: #2c3e50;
            font-size: 1.6em;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .stories-card h3 i {
            color: #f39c12;
        }

        .stories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
        }

        .story-item {
            display: flex;
            gap: 20px;
            padding: 25px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #f39c12;
        }

        .story-icon {
            background: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            border: 2px solid #f39c12;
        }

        .story-icon i {
            font-size: 1.5em;
            color: #f39c12;
        }

        .story-content h4 {
            color: #2c3e50;
            font-size: 1.2em;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .story-content p {
            color: #555;
            line-height: 1.6;
            margin-bottom: 15px;
            font-style: italic;
        }

        .story-stats {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .story-stats span {
            display: flex;
            align-items: center;
            gap: 5px;
            color: #666;
            font-size: 0.9em;
            font-weight: 600;
        }

        .story-stats i {
            color: #f39c12;
        }

        .favorites-section {
            margin-bottom: 40px;
        }

        .favorites-card {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 6px 25px rgba(0,0,0,0.1);
            border: 2px solid #e9ecef;
        }

        .favorites-card h3 {
            color: #2c3e50;
            font-size: 1.6em;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .favorites-card h3 i {
            color: #e74c3c;
        }

        .no-favorites {
            text-align: center;
            padding: 40px 20px;
            color: #666;
        }

        .no-favorites i {
            font-size: 3em;
            color: #bdc3c7;
            margin-bottom: 15px;
        }

        .no-favorites p {
            font-size: 1.1em;
            line-height: 1.6;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .categories-grid {
                grid-template-columns: 1fr;
            }
            
            .search-input-group {
                flex-direction: column;
            }
            
            .search-filters {
                flex-direction: column;
            }
            
            .integration-workflow {
                flex-direction: column;
            }
            
            .workflow-arrow {
                transform: rotate(90deg);
                margin: 10px 0;
            }
            
            .stories-grid {
                grid-template-columns: 1fr;
            }
            
            .story-item {
                flex-direction: column;
                text-align: center;
            }
        }

        /* Text to Braille Converter Styles */
        .text-converter-section {
            max-width: 100%;
        }

        .converter-input-section {
            margin-bottom: 30px;
        }

        .input-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            border: 2px solid #e9ecef;
        }

        .input-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .input-header h3 {
            color: #2c3e50;
            font-size: 1.2em;
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 0;
        }

        .input-actions {
            display: flex;
            gap: 10px;
        }

        .action-btn {
            background: #7b2cbf;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9em;
            font-weight: 500;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .action-btn:hover {
            background: #5a189a;
            transform: translateY(-1px);
        }

        .action-btn.sample-btn {
            background: #007bff;
        }

        .action-btn.sample-btn:hover {
            background: #0056b3;
        }

        .action-btn.clear-btn {
            background: #6c757d;
        }

        .action-btn.clear-btn:hover {
            background: #545b62;
        }

        .action-btn.braas-btn {
            background: #28a745;
        }

        .action-btn.braas-btn:hover {
            background: #218838;
        }

        .input-wrapper {
            position: relative;
        }

        .text-input {
            width: 100%;
            min-height: 280px;
            max-height: 400px;
            padding: 20px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-size: 1em;
            line-height: 1.6;
            resize: vertical;
            transition: border-color 0.3s ease;
            background: #fafafa;
        }

        .text-input:focus {
            outline: none;
            border-color: #7b2cbf;
            box-shadow: 0 0 0 3px rgba(123, 44, 191, 0.1);
            background: white;
        }

        .input-stats {
            display: flex;
            gap: 20px;
            margin-top: 15px;
            padding: 12px 15px;
            background: #f8f9fa;
            border-radius: 6px;
            border: 1px solid #e9ecef;
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 6px;
            color: #666;
            font-size: 0.9em;
            font-weight: 500;
        }

        .stat-item i {
            color: #7b2cbf;
        }

        .conversion-controls {
            margin-bottom: 30px;
            text-align: center;
        }

        .convert-text-btn {
            background: linear-gradient(135deg, #7b2cbf 0%, #5a189a 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .convert-text-btn:hover {
            background: linear-gradient(135deg, #5a189a 0%, #4a0e4e 100%);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(123, 44, 191, 0.4);
        }

        .convert-text-btn:disabled {
            background: #6c757d;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .conversion-options {
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
        }

        .option-label {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            user-select: none;
        }

        .option-label input[type="checkbox"] {
            width: 18px;
            height: 18px;
            accent-color: #7b2cbf;
        }

        .option-text {
            color: #2c3e50;
            font-weight: 500;
        }

        .progress-section {
            margin-bottom: 30px;
        }

        .progress-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            border: 2px solid #e9ecef;
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .progress-header h4 {
            color: #2c3e50;
            font-size: 1.1em;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .progress-status {
            color: #666;
            font-size: 0.9em;
        }

        .conversion-results {
            margin-top: 30px;
        }

        .results-tabs {
            display: flex;
            gap: 5px;
            margin-bottom: 20px;
            border-bottom: 2px solid #e9ecef;
        }

        .result-tab {
            background: transparent;
            border: none;
            padding: 12px 20px;
            cursor: pointer;
            font-weight: 600;
            color: #666;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .result-tab:hover {
            color: #7b2cbf;
            background: rgba(123, 44, 191, 0.05);
        }

        .result-tab.active {
            color: #7b2cbf;
            border-bottom-color: #7b2cbf;
            background: rgba(123, 44, 191, 0.1);
        }

        .result-panel {
            display: none;
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            border: 2px solid #e9ecef;
        }

        .result-panel.active {
            display: block;
        }

        .result-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .result-header h4 {
            color: #2c3e50;
            font-size: 1.1em;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .result-actions {
            display: flex;
            gap: 10px;
        }

        .result-content {
            margin-top: 15px;
        }

        .result-textarea {
            width: 100%;
            min-height: 300px;
            padding: 20px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 1em;
            line-height: 1.6;
            resize: vertical;
            background: #fafafa;
            color: #333;
        }

        .analysis-content {
            margin-top: 20px;
        }

        .analysis-stats {
            margin-bottom: 30px;
        }

        .stat-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .stat-card {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 20px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 10px;
            border: 1px solid #e9ecef;
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-2px);
        }

        .stat-icon {
            width: 50px;
            height: 50px;
            background: #7b2cbf;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
        }

        .stat-info {
            flex: 1;
        }

        .stat-value {
            font-size: 1.8em;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #666;
            font-weight: 600;
            font-size: 0.9em;
            text-transform: uppercase;
        }

        .validation-results {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            border: 1px solid #e9ecef;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .input-actions {
                flex-direction: column;
            }

            .conversion-options {
                flex-direction: column;
                gap: 15px;
            }

            .results-tabs {
                flex-direction: column;
            }

            .result-tab {
                text-align: center;
            }

            .result-actions {
                flex-direction: column;
            }

            .stat-grid {
                grid-template-columns: 1fr;
            }

            .input-stats {
                flex-direction: column;
                gap: 10px;
            }
        }

        /* Hide any debug overlays or unwanted content */
        [id*="debug"], [class*="debug"], [id*="DEBUG"], [class*="DEBUG"] {
            display: none !important;
            visibility: hidden !important;
            opacity: 0 !important;
        }

        /* Prevent any content after body from showing */
        body::after {
            content: '';
            display: block;
            clear: both;
        }

        /* Hide any absolutely positioned debug elements */
        div[style*="position: fixed"][style*="top:"][style*="right:"] {
            display: none !important;
        }
    </style>
</head>
<body>
<div class="page-wrapper">
    <div class="content-wrapper">
        <!-- Header -->
        <header class="infosys-header">
            <div class="header-content">
                <div class="header-left">
                    <h1 class="header-title">Pratibimb <span class="separator">|</span> True Reflection of Digital World!</h1>
                </div>
                <div class="header-right">
                    <div class="language-selector">
                        <div class="language-dropdown" id="languageDropdown">
                            <button class="language-btn" id="languageBtn">
                                <i class="fas fa-globe"></i>
                                <span class="language-flag">🇺🇸</span>
                                <span class="language-name">English</span>
                                <i class="fas fa-chevron-down"></i>
                            </button>
                            <div class="language-options" id="languageOptions">
                                <div class="language-option" data-language="kannada">
                                    <span class="option-flag">🇮🇳</span>
                                    <span class="option-name">ಕನ್ನಡ</span>
                                </div>
                                <div class="language-option" data-language="telugu">
                                    <span class="option-flag">🇮🇳</span>
                                    <span class="option-name">తెలుగు</span>
                                </div>
                                <div class="language-option" data-language="hindi">
                                    <span class="option-flag">🇮🇳</span>
                                    <span class="option-name">हिंदी</span>
                                </div>
                                <div class="language-option active" data-language="english">
                                    <span class="option-flag">🇺🇸</span>
                                    <span class="option-name">English</span>
                                </div>
                                <div class="language-option" data-language="french">
                                    <span class="option-flag">🇫🇷</span>
                                    <span class="option-name">Français</span>
                                </div>
                                <div class="language-option" data-language="german">
                                    <span class="option-flag">🇩🇪</span>
                                    <span class="option-name">Deutsch</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="user-info">
                        <span class="user-name">Bhupinder Singh Chawla</span>
                        <span class="role-badge" id="userRole">School Admin</span>
                        <div class="user-avatar">
                            <i class="fas fa-user"></i>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Navigation Tabs -->
        <nav class="nav-tabs">
            <div class="nav-tabs-container">
                <a href="index.html" class="nav-tab">
                    <i class="fas fa-home nav-tab-icon"></i>
                    <span data-translate="navigation.dashboard">Dashboard</span>
                </a>
                <a href="learn.html" class="nav-tab active">
                    <i class="fas fa-graduation-cap nav-tab-icon"></i>
                    <span data-translate="navigation.learning_center">Learning Center</span>
                </a>
                <a href="marketplace.html" class="nav-tab">
                    <i class="fas fa-store nav-tab-icon"></i>
                    <span data-translate="navigation.accessibility_store">Accessibility Store</span>
                </a>
                <a href="community.html" class="nav-tab">
                    <i class="fas fa-users nav-tab-icon"></i>
                    <span data-translate="navigation.community_hub">Community Hub</span>
                </a>
            </div>
        </nav>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Floating Toggle Button for Collapsed State -->
            <button class="floating-toggle" id="floatingToggle" onclick="toggleSidebar()">
                <i class="fas fa-chevron-right"></i>
            </button>

            <!-- Learning Tools Sidebar -->
            <div class="learning-sidebar" id="learningSidebar">
                <h3>
                    <div class="sidebar-title">
                        <i class="fas fa-graduation-cap"></i> Learning Tools
                    </div>
                    <button class="sidebar-toggle" onclick="toggleSidebar()" title="Toggle Sidebar">
                        <i class="fas fa-bars"></i>
                    </button>
                </h3>
                
                <div class="learning-tool active" data-tool="youtube-braille">
                    <div class="learning-tool-icon">
                        <i class="fab fa-youtube" style="color: #ff0000;"></i>
                    </div>
                    <div>
                        <div class="learning-tool-title">YouTube to Braille</div>
                        <div class="learning-tool-desc">Convert video transcripts to Braille</div>
                    </div>
                </div>

                <div class="learning-tool" data-tool="braille-art">
                    <div class="learning-tool-icon">
                        <i class="fas fa-palette" style="color: #e91e63;"></i>
                    </div>
                    <div>
                        <div class="learning-tool-title">Braille Art Editor</div>
                        <div class="learning-tool-desc">Create visual patterns in Braille</div>
                    </div>
                </div>

                <div class="learning-tool" data-tool="learn-braille">
                    <div class="learning-tool-icon">
                        <i class="fas fa-book-open" style="color: #2196f3;"></i>
                    </div>
                    <div>
                        <div class="learning-tool-title">Learn Braille</div>
                        <div class="learning-tool-desc">Interactive Braille tutorials</div>
                    </div>
                </div>

                <div class="learning-tool" data-tool="text-converter">
                    <div class="learning-tool-icon">
                        <i class="fas fa-font" style="color: #ff9800;"></i>
                    </div>
                    <div>
                        <div class="learning-tool-title">Text to Braille</div>
                        <div class="learning-tool-desc">Convert plain text to Braille</div>
                    </div>
                </div>

                <div class="learning-tool" data-tool="voice-assistant">
                    <div class="learning-tool-icon">
                        <i class="fas fa-microphone" style="color: #4caf50;"></i>
                    </div>
                    <div>
                        <div class="learning-tool-title">Dhvani Assistant</div>
                        <div class="learning-tool-desc">Voice-powered accessibility</div>
                    </div>
                </div>

                <div class="learning-tool" data-tool="braille-service">
                    <div class="learning-tool-icon">
                        <i class="fas fa-cloud" style="color: #9c27b0;"></i>
                    </div>
                    <div>
                        <div class="learning-tool-title">Braille as a Service</div>
                        <div class="learning-tool-desc">API for developers</div>
                    </div>
                </div>
            </div>

            <!-- Main Learning Content -->
            <div class="learning-content">
                <!-- YouTube to Braille Tool -->
                <div class="content-section active" id="youtube-braille">
                    <div class="converter-section">
                        <div class="section-header">
                            <h2><i class="fab fa-youtube"></i> YouTube Videos Made Accessible!</h2>
                            <p>Convert YouTube videos to Braille format instantly</p>
                        </div>
                        
                        <div class="converter-form">
                            <div class="input-group">
                                <div class="input-wrapper">
                                    <i class="fab fa-youtube input-icon"></i>
                                    <input 
                                        type="url" 
                                        id="youtubeUrl" 
                                        placeholder="Enter YouTube URL (e.g., https://www.youtube.com/watch?v=example)"
                                        class="url-input"
                                    >
                                    <button type="button" class="convert-btn" id="convertBtn">
                                        <!-- <i class="fas fa-magic"></i> &nbsp;&nbsp;&nbsp;&nbsp; -->
                                        Convert to Braille
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Progress Indicator -->
                        <div class="progress-container" id="progressContainer" style="display: none;">
                            <div class="progress-bar">
                                <div class="progress-fill" id="progressFill"></div>
                            </div>
                            <div class="progress-text" id="progressText">Processing...</div>
                        </div>

                        <!-- Results Area -->
                        <div class="results-area" id="resultsArea" style="display: none;">
                            <div class="result-tabs">
                                <button class="tab-btn active" data-tab="transcript">
                                    <i class="fas fa-download"></i> Download Transcript
                                </button>
                                <button class="tab-btn" data-tab="preview">
                                    <i class="fas fa-eye"></i> Process Transcript
                                </button>
                                <button class="tab-btn" data-tab="braille">
                                    <i class="fas fa-braille"></i> Braille Output
                                </button>
                                <button class="tab-btn" data-tab="embosser">
                                    <i class="fas fa-print"></i> Embosser Format
                                </button>
                            </div>
                            
                            <div class="tab-content">
                                <div class="tab-panel active" id="transcript">
                                    <div class="result-header">
                                        <h3><i class="fas fa-file-alt"></i> Raw Transcript</h3>
                                        <div class="result-actions">
                                            <button class="action-btn" id="copyTranscript">
                                                <i class="fas fa-copy"></i> Copy
                                            </button>
                                            <button class="action-btn" id="downloadTranscript">
                                                <i class="fas fa-download"></i> Download
                                            </button>
                                        </div>
                                    </div>
                                    <div class="result-content transcript-content" id="transcriptContent">
                                        <div class="transcript-text">
                                            <strong>Youtube Transcript:</strong><br>
                                            ----<br>
                                            <em>Transcript will appear here after conversion...</em>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="tab-panel" id="preview">
                                    <div class="result-header">
                                        <h3><i class="fas fa-file-text"></i> Enhanced Transcript</h3>
                                        <div class="result-actions">
                                            <button class="action-btn" id="copyOriginal">
                                                <i class="fas fa-copy"></i> Copy
                                            </button>
                                            <button class="action-btn" id="downloadOriginal">
                                                <i class="fas fa-download"></i> Download
                                            </button>
                                        </div>
                                    </div>
                                    <textarea class="result-textarea" id="originalText" readonly placeholder="Enhanced transcript will appear here..."></textarea>
                                </div>
                                
                                <div class="tab-panel" id="braille">
                                    <div class="result-header">
                                        <h3><i class="fas fa-braille"></i> Braille Unicode</h3>
                                        <div class="result-actions">
                                            <button class="action-btn" id="copyBraille">
                                                <i class="fas fa-copy"></i> Copy
                                            </button>
                                            <button class="action-btn" id="downloadBraille">
                                                <i class="fas fa-download"></i> Download
                                            </button>
                                        </div>
                                    </div>
                                    <textarea class="result-textarea braille-text" id="brailleText" readonly placeholder="Braille output will appear here..."></textarea>
                                </div>
                                
                                <div class="tab-panel" id="embosser">
                                    <div class="result-header">
                                        <h3><i class="fas fa-print"></i> Embosser Ready (.brf)</h3>
                                        <div class="result-actions">
                                            <button class="action-btn" id="copyEmbosser">
                                                <i class="fas fa-copy"></i> Copy
                                            </button>
                                            <button class="action-btn" id="downloadEmbosser">
                                                <i class="fas fa-download"></i> Download
                                            </button>
                                        </div>
                                    </div>
                                    <textarea class="result-textarea monospace-text" id="embosserText" readonly placeholder="Embosser-ready format will appear here..."></textarea>
                                </div>
                            </div>
                        </div>

                        <!-- Quick Stats -->
                        <div class="quick-stats" id="quickStats" style="display: none;">
                            <div class="stats-grid">
                                <div class="stat-item">
                                    <i class="fas fa-clock"></i>
                                    <span class="stat-label">Duration:</span>
                                    <span class="stat-value" id="videoDuration">--</span>
                                </div>
                                <div class="stat-item">
                                    <i class="fas fa-align-left"></i>
                                    <span class="stat-label">Characters:</span>
                                    <span class="stat-value" id="charCount">--</span>
                                </div>
                                <div class="stat-item">
                                    <i class="fas fa-font"></i>
                                    <span class="stat-label">Words:</span>
                                    <span class="stat-value" id="wordCount">--</span>
                                </div>
                                <div class="stat-item">
                                    <i class="fas fa-braille"></i>
                                    <span class="stat-label">Braille Characters:</span>
                                    <span class="stat-value" id="brailleCount">--</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Braille Art Editor -->
                <div class="content-section" id="braille-art">
                    <div class="braille-art-section">
                        <div class="section-header">
                            <h2><i class="fas fa-palette"></i> Braille Art Editor</h2>
                            <p>Generate tactile visuals in Braille for enhanced learning through touch and cognitive understanding</p>
                        </div>

                        <!-- Tool Description -->
                        <div class="tool-description">
                            <div class="description-card">
                                <h3><i class="fas fa-info-circle"></i> About This Tool</h3>
                                <p>
                                    The Braille Art Editor is a specialized tool designed to generate visual representations in Braille format that can be printed and tactilely felt. 
                                    This revolutionary approach allows visually impaired individuals to "visualize" images through touch, significantly enhancing their understanding 
                                    of technical concepts and various topics beyond just audio learning.
                                </p>
                                <div class="benefits-grid">
                                    <div class="benefit-item">
                                        <i class="fas fa-hand-paper"></i>
                                        <span>Tactile Learning</span>
                                    </div>
                                    <div class="benefit-item">
                                        <i class="fas fa-brain"></i>
                                        <span>Cognitive Enhancement</span>
                                    </div>
                                    <div class="benefit-item">
                                        <i class="fas fa-image"></i>
                                        <span>Visual Concepts</span>
                                    </div>
                                    <div class="benefit-item">
                                        <i class="fas fa-print"></i>
                                        <span>Printable Format</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Topic Input Section -->
                        <div class="topic-input-section">
                            <div class="input-card">
                                <h3><i class="fas fa-search"></i> Select Learning Topic</h3>
                                <div class="topic-input-wrapper">
                                    <input 
                                        type="text" 
                                        id="topicInput" 
                                        placeholder="Enter a topic (e.g., Human Heart, Solar System, Plant Cell...)"
                                        class="topic-input"
                                    >
                                    <button type="button" class="generate-btn" id="generateContentBtn" onclick="startBrailleArtSession()">
                                        <i class="fas fa-magic"></i>
                                        Generate Content
                                    </button>
                                </div>
                                <div class="quick-topics">
                                    <span class="quick-topic-label">Quick Topics:</span>
                                    <button class="quick-topic-btn" onclick="selectBrailleArtTopic('Human Heart')">Human Heart</button>
                                    <button class="quick-topic-btn" onclick="selectBrailleArtTopic('Solar System')">Solar System</button>
                                    <button class="quick-topic-btn" onclick="selectBrailleArtTopic('Plant Cell')">Plant Cell</button>
                                    <button class="quick-topic-btn" onclick="selectBrailleArtTopic('Human Brain')">Human Brain</button>
                                    <button class="quick-topic-btn" onclick="selectBrailleArtTopic('Water Cycle')">Water Cycle</button>
                                </div>
                            </div>
                        </div>

                        

                        <!-- Braille Art -->
                <!-- <div class="content-section" id="learn-braille">
                    <div class="braille-learning-section">
                        
                        </div>
                    </div> -->

                        <!-- Generated Content Section -->
                        <!-- Generated Content Section for Braille Art -->
<div class="generated-content" id="brailleArtLearningSession" style="display: none;">
    <div class="original-content-section">
        <!-- Topic Display Section -->
        <div class="topic-display-section">
            <div class="content-card">
                <h3><i class="fas fa-palette"></i>Braille Art Tactile representation</h3>
                <div class="content-display">
                    <div class="topic-title" id="brailleArtTopicTitle">Human Heart</div>
                </div>
            <!-- </div>
        </div> -->

        <!-- Braille Art Display Section -->
        <!-- <div class="content-card">
            <div class="braille-art-card"> -->
                <!-- <h3><i class="fas fa-palette"></i>Tactile Braille Art</h3> -->
                <div class="braille-art-content">
                    <div class="braille-art-wrapper">
                        <div class="content-text" id="brailleArt">
                            <!-- Braille art pattern will be displayed here -->
                        </div>
                    </div>
                    <div class="braille-art-caption" id="brailleArtCaption">
                        Figure: Human Heart, you can ask Dhvani for more details about the human heart.
                    </div>
                </div>
                
                <!-- Braille Art Controls -->
                <!-- <div class="art-controls-section">
                    <button class="art-control-btn" onclick="enlargeBrailleArt()">
                        <i class="fas fa-expand"></i>Enlarge View
                    </button>
                    <button class="art-control-btn" onclick="printBrailleArt()">
                        <i class="fas fa-print"></i>Print BRF
                    </button>
                    <button class="art-control-btn" onclick="saveBrailleArt()">
                        <i class="fas fa-save"></i>Save Art
                    </button>
                </div> -->
            </div>
        </div>

        <!-- Session Controls -->
        <!-- <div class="session-controls">
            <div class="control-buttons">
                <button class="control-btn save-btn" onclick="saveBrailleArtSession()">
                    <i class="fas fa-save"></i>Save Session
                </button>
                <button class="control-btn print-btn" onclick="printBrailleArtSession()">
                    <i class="fas fa-print"></i>Print All
                </button>
                <button class="control-btn change-topic-btn" onclick="changeBrailleArtTopic()">
                    <i class="fas fa-edit"></i>Change Topic
                </button>
            </div>
        </div> -->
    </div>
</div>   
                    </div>
                </div>

                <!-- Learn Braille -->
                <div class="content-section" id="learn-braille">
                    <div class="braille-learning-section">
                        <!-- Tool Description -->
                        <div class="tool-description">
                            <div class="description-card">
                                <h3><i class="fas fa-graduation-cap"></i>Interactive Braille Learning System</h3>
                                <p>This comprehensive learning tool allows anyone to master Braille through interactive practice sessions. Using our Braille-enabled keyboard interface, students can learn by listening to content and typing in Braille simultaneously.</p>
                                
                                <div class="benefits-grid">
                                    <div class="benefit-item">
                                        <i class="fas fa-headphones"></i>
                                        <span>Audio Learning</span>
                                    </div>
                                    <div class="benefit-item">
                                        <i class="fas fa-keyboard"></i>
                                        <span>Hands-on Practice</span>
                                    </div>
                                    <div class="benefit-item">
                                        <i class="fas fa-chart-line"></i>
                                        <span>Progress Tracking</span>
                                    </div>
                                    <div class="benefit-item">
                                        <i class="fas fa-save"></i>
                                        <span>Session History</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Topic Selection -->
                        <div class="topic-selection-section">
                            <div class="input-card">
                                <h3><i class="fas fa-lightbulb"></i>Select Learning Topic</h3>
                                <div class="topic-input-wrapper">
                                    <input type="text" id="brailleTopicInput" class="topic-input" placeholder="Enter a topic you want to learn about...">
                                    <button class="generate-btn" onclick="startBrailleSession()">
                                        <i class="fas fa-play"></i>Start Session
                                    </button>
                                </div>
                                <div class="quick-topics">
                                    <span class="quick-topic-label">Quick Topics:</span>
                                    <button class="quick-topic-btn" onclick="selectBrailleTopic('Moon Phases')">Moon Phases</button>
                                    <button class="quick-topic-btn" onclick="selectBrailleTopic('Solar System')">Solar System</button>
                                    <button class="quick-topic-btn" onclick="selectBrailleTopic('Ocean Life')">Ocean Life</button>
                                    <button class="quick-topic-btn" onclick="selectBrailleTopic('Plant Growth')">Plant Growth</button>
                                </div>
                            </div>
                        </div>

                        <!-- Learning Session Interface -->
                        <div class="learning-session" id="brailleLearningSession" style="display: none;">
                            <!-- Original Content Section -->
                            <div class="original-content-section">
                                <div class="content-card">
                                    <h3><i class="fas fa-book"></i>Learning Content</h3>
                                    <div class="content-display">
                                        <div class="topic-title" id="currentTopicTitle">Moon Phases</div>
                                        <div class="content-text" id="originalContentText">
                                            The moon's appearance changes dramatically as it orbits Earth, creating eight distinct phases that have fascinated humanity for millennia. The lunar cycle, also known as the lunation, takes approximately 29.5 days to complete and results from the changing positions of the Moon, Earth, and Sun. The New Moon marks the beginning of the lunar cycle, positioned between Earth and the Sun, making it invisible from our perspective. As the moon moves in its orbit, we begin to see the waxing phases, where the illuminated portion grows larger each night, leading to the spectacular Full Moon phase.
                                        </div>
                                    </div>
                                    <div class="audio-controls-section">
                                        <button class="audio-control-btn" id="playContentBtn" onclick="playContent()">
                                            <i class="fas fa-play"></i>Play Content
                                        </button>
                                        <button class="audio-control-btn" id="pauseContentBtn" onclick="pauseContent()" style="display: none;">
                                            <i class="fas fa-pause"></i>Pause
                                        </button>
                                        <div class="audio-progress-section" id="audioProgressSection" style="display: none;">
                                            <div class="progress-bar">
                                                <div class="progress-fill" id="contentProgressFill"></div>
                                            </div>
                                            <!-- <div class="time-info">
                                                <span id="currentTime">0:00</span> / <span id="totalTime">1:45</span>
                                            </div> -->
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Braille Typing Interface -->
                            <div class="typing-interface-section">
                                <div class="typing-card">
                                    <h3><i class="fas fa-keyboard"></i>Typing Practice</h3>
                                    <!-- <div class="typing-instructions">
                                        <p><strong>Instructions:</strong> Listen to the content above and type what you hear using Braille characters. Use your Braille keyboard or the virtual keys below.</p>
                                    </div> -->
                                    
                                    <!-- Virtual Braille Keyboard -->
                                    <!-- <div class="virtual-keyboard">
                                        <div class="keyboard-row">
                                            <button class="braille-key" onclick="insertBraille('⠁')">⠁ (a)</button>
                                            <button class="braille-key" onclick="insertBraille('⠃')">⠃ (b)</button>
                                            <button class="braille-key" onclick="insertBraille('⠉')">⠉ (c)</button>
                                            <button class="braille-key" onclick="insertBraille('⠙')">⠙ (d)</button>
                                            <button class="braille-key" onclick="insertBraille('⠑')">⠑ (e)</button>
                                            <button class="braille-key" onclick="insertBraille('⠋')">⠋ (f)</button>
                                            <button class="braille-key" onclick="insertBraille('⠛')">⠛ (g)</button>
                                            <button class="braille-key" onclick="insertBraille('⠓')">⠓ (h)</button>
                                        </div>
                                        <div class="keyboard-row">
                                            <button class="braille-key" onclick="insertBraille('⠊')">⠊ (i)</button>
                                            <button class="braille-key" onclick="insertBraille('⠚')">⠚ (j)</button>
                                            <button class="braille-key" onclick="insertBraille('⠅')">⠅ (k)</button>
                                            <button class="braille-key" onclick="insertBraille('⠇')">⠇ (l)</button>
                                            <button class="braille-key" onclick="insertBraille('⠍')">⠍ (m)</button>
                                            <button class="braille-key" onclick="insertBraille('⠝')">⠝ (n)</button>
                                            <button class="braille-key" onclick="insertBraille('⠕')">⠕ (o)</button>
                                            <button class="braille-key" onclick="insertBraille('⠏')">⠏ (p)</button>
                                        </div>
                                        <div class="keyboard-row">
                                            <button class="braille-key" onclick="insertBraille('⠟')">⠟ (q)</button>
                                            <button class="braille-key" onclick="insertBraille('⠗')">⠗ (r)</button>
                                            <button class="braille-key" onclick="insertBraille('⠎')">⠎ (s)</button>
                                            <button class="braille-key" onclick="insertBraille('⠞')">⠞ (t)</button>
                                            <button class="braille-key" onclick="insertBraille('⠥')">⠥ (u)</button>
                                            <button class="braille-key" onclick="insertBraille('⠧')">⠧ (v)</button>
                                            <button class="braille-key" onclick="insertBraille('⠺')">⠺ (w)</button>
                                            <button class="braille-key" onclick="insertBraille('⠭')">⠭ (x)</button>
                                        </div>
                                        <div class="keyboard-row">
                                            <button class="braille-key" onclick="insertBraille('⠽')">⠽ (y)</button>
                                            <button class="braille-key" onclick="insertBraille('⠵')">⠵ (z)</button>
                                            <button class="braille-key space-key" onclick="insertBraille(' ')">Space</button>
                                            <button class="braille-key" onclick="insertBraille('⠂')">⠂ (,)</button>
                                            <button class="braille-key" onclick="insertBraille('⠲')">⠲ (.)</button>
                                            <button class="braille-key clear-key" onclick="clearBrailleInput()">Clear</button>
                                        </div>
                                    </div> -->

                                    <div class="typing-area">
                                        <label for="studentBrailleInput">Your Input:</label>
                                        <textarea id="studentBrailleInput" class="braille-input" placeholder="Type your Braille here as you listen to the content..." rows="8"></textarea>
                                    </div>

                                    <div class="typing-controls">
                                        <button class="control-btn typing-complete-btn" onclick="completeTyping()">
                                            <i class="fas fa-check"></i>Typing Complete - Review
                                        </button>
                                        <button class="control-btn clear-typing-btn" onclick="clearTyping()">
                                            <i class="fas fa-eraser"></i>Clear All
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- Comparison Results -->
                            <div class="comparison-results" id="comparisonResults" style="display: none;">
                                <div class="results-card">
                                    <h3><i class="fas fa-search"></i>Learning Assessment Results</h3>
                                    
                                    <div class="comparison-stats">
                                        <div class="stat-item">
                                            <div class="stat-value" id="accuracyScore">0%</div>
                                            <div class="stat-label">Accuracy</div>
                                        </div>
                                        <div class="stat-item">
                                            <div class="stat-value" id="wordsCorrect">0</div>
                                            <div class="stat-label">Words Correct</div>
                                        </div>
                                        <div class="stat-item">
                                            <div class="stat-value" id="totalErrors">0</div>
                                            <div class="stat-label">Total Errors</div>
                                        </div>
                                    </div>

                                    <div class="comparison-display">
                                        <div class="comparison-column">
                                            <h4><i class="fas fa-book"></i>Original Content</h4>
                                            <div class="original-braille" id="originalBrailleText">
                                                </div>
                                        </div>
                                        <div class="comparison-column">
                                            <h4><i class="fas fa-user-edit"></i>Your Input</h4>
                                            <div class="student-braille" id="studentBrailleDisplay">
                                                <!-- Student input will be displayed here with highlights -->
                                            </div>
                                        </div>
                                    </div>

                                    <div class="error-analysis">
                                        <h4><i class="fas fa-exclamation-triangle"></i>Error Analysis & Corrections</h4>
                                        <div class="error-list" id="errorList">
                                            <!-- Errors will be listed here -->
                                        </div>
                                        <!-- <div class="audio-feedback">
                                            <button class="feedback-btn" onclick="playFeedbackAudio()">
                                                <i class="fas fa-volume-up"></i>Listen to Corrections
                                            </button>
                                        </div> -->
                                    </div>

                                    <div class="session-actions">
                                        <button class="action-btn save-session-btn" onclick="saveLearningSession()">
                                            <i class="fas fa-save"></i>Save Session
                                        </button>
                                        <button class="action-btn new-session-btn" onclick="startNewSession()">
                                            <i class="fas fa-plus"></i>New Session
                                        </button>
                                        <button class="action-btn print-results-btn" onclick="printResults()">
                                            <i class="fas fa-print"></i>Print Results
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Saved Sessions History -->
                        <div class="sessions-history">
                            <div class="history-card">
                                <h3><i class="fas fa-history"></i>Learning Session History</h3>
                                <div class="history-list" id="brailleSessionHistory">
                                    <!-- Session history will be populated here -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Text Converter -->
                <div class="content-section" id="text-converter">
                    <div class="text-converter-section">
                        <!-- Section Header -->
                        <div class="section-header">
                            <h2><i class="fas fa-font"></i> Text to Braille Converter</h2>
                            <p>Convert plain text to Grade 1 Unicode Braille and embosser-ready BRF format</p>
                        </div>

                        <!-- Input Section -->
                        <div class="converter-input-section">
                            <div class="input-card">
                                <div class="input-header">
                                    <h3><i class="fas fa-edit"></i> Input Text</h3>
                                    <div class="input-actions">
                                        <button class="action-btn sample-btn" onclick="loadSampleText()" title="Load Sample Text">
                                            <i class="fas fa-file-alt"></i> Sample
                                        </button>
                                        <button class="action-btn clear-btn" onclick="clearInputText()" title="Clear Text">
                                            <i class="fas fa-trash"></i> Clear
                                        </button>
                                    </div>
                                </div>
                                <div class="input-wrapper">
                                    <textarea 
                                        id="textInput" 
                                        class="text-input" 
                                        placeholder="Type or paste your text here to convert to Braille...

Example: Hello World! This will be converted to Grade 1 Braille format."
                                        rows="12"></textarea>
                                    <div class="input-stats">
                                        <span id="charCount" class="stat-item">
                                            <i class="fas fa-font"></i> Characters: 0
                                        </span>
                                        <span id="wordCount" class="stat-item">
                                            <i class="fas fa-align-left"></i> Words: 0
                                        </span>
                                        <span id="lineCount" class="stat-item">
                                            <i class="fas fa-list-ol"></i> Lines: 0
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Conversion Controls -->
                        <div class="conversion-controls">
                            <button class="convert-text-btn" id="convertTextBtn" onclick="convertTextToBraille()">
                                <!-- <i class="fas fa-magic"></i> -->
                                <span class="btn-text">Convert to Braille</span>
                            </button>
                            <div class="conversion-options">
                                <label class="option-label">
                                    <input type="checkbox" id="includeImages" checked>
                                    <span class="option-text">Process image references</span>
                                </label>
                                <label class="option-label">
                                    <input type="checkbox" id="generateBRF" checked>
                                    <span class="option-text">Generate BRF format</span>
                                </label>
                            </div>
                        </div>

                        <!-- Progress Section -->
                        <div class="progress-section" id="conversionProgress" style="display: none;">
                            <div class="progress-card">
                                <div class="progress-header">
                                    <h4><i class="fas fa-cog fa-spin"></i> Processing...</h4>
                                    <span class="progress-status" id="progressStatus">Initializing conversion...</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                                </div>
                                <div class="progress-text" id="progressText">0%</div>
                            </div>
                        </div>

                        <!-- Results Section -->
                        <div class="conversion-results" id="conversionResults" style="display: none;">
                            <div class="results-tabs">
                                <button class="result-tab active" data-tab="unicode" onclick="switchResultTab('unicode')">
                                    <i class="fas fa-braille"></i> Unicode Braille
                                </button>
                                <button class="result-tab" data-tab="brf" onclick="switchResultTab('brf')">
                                    <i class="fas fa-print"></i> BRF Format
                                </button>
                                <button class="result-tab" data-tab="analysis" onclick="switchResultTab('analysis')">
                                    <i class="fas fa-chart-bar"></i> Analysis
                                </button>
                            </div>

                            <!-- Unicode Braille Tab -->
                            <div class="result-panel active" id="unicode-panel">
                                <div class="result-header">
                                    <h4><i class="fas fa-braille"></i> Unicode Braille Output</h4>
                                    <div class="result-actions">
                                        <button class="action-btn" onclick="copyToClipboard('unicodeBraille')" title="Copy to Clipboard">
                                            <i class="fas fa-copy"></i> Copy
                                        </button>
                                        <button class="action-btn" onclick="downloadFile('unicode')" title="Download as .txt">
                                            <i class="fas fa-download"></i> Download
                                        </button>
                                    </div>
                                </div>
                                <div class="result-content">
                                    <textarea id="unicodeBraille" class="result-textarea braille-text" readonly rows="10"></textarea>
                                </div>
                            </div>

                            <!-- BRF Format Tab -->
                            <div class="result-panel" id="brf-panel">
                                <div class="result-header">
                                    <h4><i class="fas fa-print"></i> BRF Embosser Format</h4>
                                    <div class="result-actions">
                                        <button class="action-btn" onclick="copyToClipboard('brfFormat')" title="Copy to Clipboard">
                                            <i class="fas fa-copy"></i> Copy
                                        </button>
                                        <button class="action-btn" onclick="downloadFile('brf')" title="Download as .brf">
                                            <i class="fas fa-download"></i> Download
                                        </button>
                                        <button class="action-btn braas-btn" onclick="sendToBraaS()" title="Send to Braille as a Service">
                                            <i class="fas fa-cloud"></i> Send to BRaaS
                                        </button>
                                    </div>
                                </div>
                                <div class="result-content">
                                    <textarea id="brfFormat" class="result-textarea monospace-text" readonly rows="10"></textarea>
                                </div>
                            </div>

                            <!-- Analysis Tab -->
                            <div class="result-panel" id="analysis-panel">
                                <div class="analysis-header">
                                    <h4><i class="fas fa-chart-bar"></i> Conversion Analysis</h4>
                                </div>
                                <div class="analysis-content">
                                    <div class="analysis-stats">
                                        <div class="stat-grid">
                                            <div class="stat-card">
                                                <div class="stat-icon"><i class="fas fa-font"></i></div>
                                                <div class="stat-info">
                                                    <div class="stat-value" id="totalChars">0</div>
                                                    <div class="stat-label">Total Characters</div>
                                                </div>
                                            </div>
                                            <div class="stat-card">
                                                <div class="stat-icon"><i class="fas fa-braille"></i></div>
                                                <div class="stat-info">
                                                    <div class="stat-value" id="brailleChars">0</div>
                                                    <div class="stat-label">Braille Characters</div>
                                                </div>
                                            </div>
                                            <div class="stat-card">
                                                <div class="stat-icon"><i class="fas fa-file-alt"></i></div>
                                                <div class="stat-info">
                                                    <div class="stat-value" id="braillePages">0</div>
                                                    <div class="stat-label">Embosser Pages</div>
                                                </div>
                                            </div>
                                            <div class="stat-card">
                                                <div class="stat-icon"><i class="fas fa-clock"></i></div>
                                                <div class="stat-info">
                                                    <div class="stat-value" id="conversionTime">0ms</div>
                                                    <div class="stat-label">Processing Time</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="validation-results" id="validationResults">
                                        <!-- Validation results will be populated here -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Voice Assistant -->
                <div class="content-section" id="voice-assistant">
                    <div class="placeholder-content">
                        <i class="fas fa-microphone"></i>
                        <h3>Dhvani Voice Assistant</h3>
                        <p>Voice-powered accessibility tools and navigation assistance</p>
                        <span class="coming-soon-badge">Coming Soon</span>
                    </div>
                </div>

                <!-- Braille as a Service -->
                <div class="content-section" id="braille-service">
                    <div class="braas-platform-section">
                        <!-- Platform Overview -->
                        <div class="platform-overview">
                            <div class="overview-card">
                                <div class="overview-header">
                                    <div class="logo-section">
                                        <i class="fas fa-print"></i>
                                        <h2>BRaaS - Braille as a Service</h2>
                                    </div>
                                    <div class="platform-tagline">
                                        Connecting Braille Printing Services with Educational Institutions
                                    </div>
                                </div>
                                
                                <div class="overview-content">
                                    <div class="introduction-text">
                                        <p><strong>BRaaS is an innovative service conceptualized by the Pratibimb platform.</strong> We make Braille literature accessible by connecting schools and NGOs that have Braille printer access with educational institutions needing Braille materials.</p>
                                        
                                        <p>These certified printing partners offer to print learning materials in Braille format, making their catalogue of learning materials available through the ONDC network, which can be found in our <a href="marketplace.html" class="marketplace-link"><i class="fas fa-store"></i> Marketplace Solution</a>.</p>
                                    </div>
                                    
                                    <div class="service-highlights">
                                        <div class="highlight-item">
                                            <i class="fas fa-network-wired"></i>
                                            <div>
                                                <h4>ONDC Integration</h4>
                                                <p>Access certified vendors through the Open Network for Digital Commerce</p>
                                            </div>
                                        </div>
                                        <div class="highlight-item">
                                            <i class="fas fa-handshake"></i>
                                            <div>
                                                <h4>Direct Partnerships</h4>
                                                <p>Schools and NGOs offering professional Braille printing services</p>
                                            </div>
                                        </div>
                                        <div class="highlight-item">
                                            <i class="fas fa-map-marker-alt"></i>
                                            <div>
                                                <h4>Location-Based</h4>
                                                <p>Find and connect with the nearest Braille printing services</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Service Categories -->
                        <div class="service-categories">
                            <h3><i class="fas fa-th-large"></i>Service Categories</h3>
                            <div class="categories-grid">
                                <div class="category-card consumer">
                                    <div class="category-icon">
                                        <i class="fas fa-user"></i>
                                    </div>
                                    <div class="category-content">
                                        <h4>For Consumers</h4>
                                        <p>Schools, institutions, and individuals seeking Braille printing services</p>
                                        <ul>
                                            <li><i class="fas fa-check"></i>Find local printing vendors</li>
                                            <li><i class="fas fa-check"></i>Submit print requests</li>
                                            <li><i class="fas fa-check"></i>Track order status</li>
                                            <li><i class="fas fa-check"></i>Manage favorites</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <div class="category-card vendor">
                                    <div class="category-icon">
                                        <i class="fas fa-store"></i>
                                    </div>
                                    <div class="category-content">
                                        <h4>For Vendors</h4>
                                        <p>Schools, NGOs, and organizations with Braille printing capabilities</p>
                                        <ul>
                                            <li><i class="fas fa-check"></i>Register your services</li>
                                            <li><i class="fas fa-check"></i>Manage service catalog</li>
                                            <li><i class="fas fa-check"></i>Receive print requests</li>
                                            <li><i class="fas fa-check"></i>Set service areas</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Vendor Search & Discovery -->
                        <div class="vendor-search-section">
                            <div class="search-card">
                                <h3><i class="fas fa-search"></i>Find BRaaS Vendors Near You</h3>
                                <div class="search-interface">
                                    <div class="search-form">
                                        <div class="search-input-group">
                                            <div class="input-wrapper">
                                                <i class="fas fa-map-marker-alt"></i>
                                                <input type="text" id="locationSearch" class="location-input" placeholder="Enter your city, state, or zip code...">
                                            </div>
                                            <button class="search-btn" onclick="searchVendors()">
                                                <i class="fas fa-search"></i>Search
                                            </button>
                                        </div>
                                        
                                        <div class="search-filters">
                                            <div class="filter-group">
                                                <label><i class="fas fa-filter"></i>Service Type:</label>
                                                <select id="serviceTypeFilter" class="filter-select">
                                                    <option value="all">All Services</option>
                                                    <option value="educational">Educational Materials</option>
                                                    <option value="books">Books & Literature</option>
                                                    <option value="documents">Documents & Forms</option>
                                                    <option value="custom">Custom Printing</option>
                                                </select>
                                            </div>
                                            
                                            <div class="filter-group">
                                                <label><i class="fas fa-clock"></i>Delivery Time:</label>
                                                <select id="deliveryFilter" class="filter-select">
                                                    <option value="all">Any Time</option>
                                                    <option value="24h">Within 24 hours</option>
                                                    <option value="3d">Within 3 days</option>
                                                    <option value="1w">Within 1 week</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Vendor Results -->
                        <div class="vendor-results" id="vendorResults" style="display: none;">
                            <div class="results-header">
                                <h3><i class="fas fa-list"></i>Available BRaaS Vendors</h3>
                                <div class="results-count" id="resultsCount">Found 0 vendors</div>
                            </div>
                            
                            <div class="vendors-grid" id="vendorsGrid">
                                <!-- Vendor cards will be populated here -->
                            </div>
                        </div>

                        <!-- YouTube to Braille Integration -->
                        <div class="integration-section">
                            <div class="integration-card">
                                <h3><i class="fas fa-youtube"></i>YouTube to Braille + BRaaS Integration</h3>
                                <div class="integration-content">
                                    <div class="integration-description">
                                        <p>As a consumer, school admins can select learning material in Pratibimb for print. Use our YouTube to Braille converter and then send it directly to your preferred BRaaS vendor for professional printing.</p>
                                    </div>
                                    
                                    <div class="integration-workflow">
                                        <div class="workflow-step">
                                            <div class="step-number">1</div>
                                            <div class="step-content">
                                                <h4>Convert Content</h4>
                                                <p>Use YouTube to Braille converter</p>
                                            </div>
                                        </div>
                                        <div class="workflow-arrow"><i class="fas fa-arrow-right"></i></div>
                                        <div class="workflow-step">
                                            <div class="step-number">2</div>
                                            <div class="step-content">
                                                <h4>Select Vendor</h4>
                                                <p>Choose from your favorite vendors</p>
                                            </div>
                                        </div>
                                        <div class="workflow-arrow"><i class="fas fa-arrow-right"></i></div>
                                        <div class="workflow-step">
                                            <div class="step-number">3</div>
                                            <div class="step-content">
                                                <h4>Submit Request</h4>
                                                <p>Send for professional printing</p>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="integration-actions">
                                        <a href="#youtube-braille" class="action-btn converter-btn" onclick="activateTool('youtube-braille')">
                                            <i class="fas fa-youtube"></i>Try YouTube Converter
                                        </a>
                                        <button class="action-btn demo-btn" onclick="showIntegrationDemo()">
                                            <i class="fas fa-play"></i>View Demo
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Vendor Registration -->
                        <div class="vendor-registration-section">
                            <div class="registration-card">
                                <h3><i class="fas fa-user-plus"></i>Register as a BRaaS Vendor</h3>
                                <div class="registration-content">
                                    <div class="registration-intro">
                                        <p>Join our network of certified Braille printing partners. Provide your location and services so institutions can discover and connect with your organization.</p>
                                    </div>
                                    
                                    <div class="registration-benefits">
                                        <div class="benefit-grid">
                                            <div class="benefit-card">
                                                <i class="fas fa-users"></i>
                                                <h4>Reach More Institutions</h4>
                                                <p>Connect with schools and organizations nationwide</p>
                                            </div>
                                            <div class="benefit-card">
                                                <i class="fas fa-chart-line"></i>
                                                <h4>Grow Your Business</h4>
                                                <p>Expand your Braille printing service reach</p>
                                            </div>
                                            <div class="benefit-card">
                                                <i class="fas fa-certificate"></i>
                                                <h4>Verified Partnership</h4>
                                                <p>Become a certified Pratibimb partner</p>
                                            </div>
                                            <div class="benefit-card">
                                                <i class="fas fa-handshake"></i>
                                                <h4>Support Education</h4>
                                                <p>Help make education more accessible</p>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="registration-form-preview">
                                        <div class="form-preview-header">
                                            <h4>Quick Registration Process</h4>
                                        </div>
                                        <div class="form-fields-preview">
                                            <div class="field-group">
                                                <i class="fas fa-building"></i>
                                                <span>Organization Information</span>
                                            </div>
                                            <div class="field-group">
                                                <i class="fas fa-map-marked-alt"></i>
                                                <span>Service Location & Coverage</span>
                                            </div>
                                            <div class="field-group">
                                                <i class="fas fa-print"></i>
                                                <span>Printing Capabilities & Services</span>
                                            </div>
                                            <div class="field-group">
                                                <i class="fas fa-id-card"></i>
                                                <span>Certification & Verification</span>
                                            </div>
                                        </div>
                                        
                                        <div class="registration-actions">
                                            <button class="register-btn primary" onclick="openVendorRegistration()">
                                                <i class="fas fa-pen"></i>Start Registration
                                            </button>
                                            <button class="register-btn secondary" onclick="downloadVendorInfo()">
                                                <i class="fas fa-download"></i>Download Info Packet
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Success Stories -->
                        <div class="success-stories-section">
                            <div class="stories-card">
                                <h3><i class="fas fa-star"></i>Success Stories</h3>
                                <div class="stories-grid">
                                    <div class="story-item">
                                        <div class="story-icon">
                                            <i class="fas fa-school"></i>
                                        </div>
                                        <div class="story-content">
                                            <h4>Mumbai Public School</h4>
                                            <p>"BRaaS helped us find local printing partners and reduced our Braille material costs by 40%."</p>
                                            <div class="story-stats">
                                                <span><i class="fas fa-print"></i>500+ materials printed</span>
                                                <span><i class="fas fa-users"></i>50+ students served</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="story-item">
                                        <div class="story-icon">
                                            <i class="fas fa-hands-helping"></i>
                                        </div>
                                        <div class="story-content">
                                            <h4>Delhi NGO Alliance</h4>
                                            <p>"Joining as a vendor expanded our reach to 20+ institutions across North India."</p>
                                            <div class="story-stats">
                                                <span><i class="fas fa-handshake"></i>25+ partnerships</span>
                                                <span><i class="fas fa-map-marker-alt"></i>5 cities covered</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- My Favorites -->
                        <div class="favorites-section">
                            <div class="favorites-card">
                                <h3><i class="fas fa-heart"></i>My Favorite Vendors</h3>
                                <div class="favorites-content" id="favoritesContent">
                                    <div class="no-favorites">
                                        <i class="fas fa-heart-broken"></i>
                                        <p>No favorite vendors yet. Search and add vendors to your favorites for quick access!</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="infosys-footer">
            <div class="footer-content">
                <div class="footer-text">
                    <p><i class="fas fa-universal-access"></i> Pratibimb - Open Source Platform to make digital content accessible!</p>
                </div>
            </div>
        </footer>
    </div>
</div>

<!-- Loading Overlay -->
<div class="loading-overlay" id="loadingOverlay" style="display: none;">
    <div class="loading-spinner">
        <i class="fas fa-spinner fa-spin"></i>
        <p>Processing YouTube video...</p>
    </div>
</div>

<!-- Success/Error Toast -->
<div class="toast" id="toast">
    <div class="toast-content">
        <i class="toast-icon"></i>
        <span class="toast-message"></span>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Learning tool navigation
    const learningTools = document.querySelectorAll('.learning-tool');
    const contentSections = document.querySelectorAll('.content-section');
    
    // Function to activate a specific tool and section
    function activateTool(toolId) {
        // Update active tool
        learningTools.forEach(t => t.classList.remove('active'));
        const targetTool = document.querySelector(`[data-tool="${toolId}"]`);
        if (targetTool) {
            targetTool.classList.add('active');
        }
        
        // Show corresponding content section
        contentSections.forEach(section => {
            section.classList.remove('active');
        });
        
        const targetSection = document.getElementById(toolId);
        if (targetSection) {
            targetSection.classList.add('active');
        }
    }
    
    // Check for hash on page load
    if (window.location.hash) {
        const hashTool = window.location.hash.substring(1);
        activateTool(hashTool);
    }
    
    learningTools.forEach(tool => {
        tool.addEventListener('click', function() {
            const toolId = this.getAttribute('data-tool');
            
            // Special redirect for Dhvani Assistant
            if (toolId === 'voice-assistant') {
                window.location.href = 'dhvani.html';
                return;
            }
            
            // Update URL hash
            window.location.hash = toolId;
            
            // Activate the tool
            activateTool(toolId);
        });
    });

    // YouTube to Braille functionality
    const convertBtn = document.getElementById('convertBtn');
    const youtubeUrl = document.getElementById('youtubeUrl');
    const progressContainer = document.getElementById('progressContainer');
    const resultsArea = document.getElementById('resultsArea');
    const quickStats = document.getElementById('quickStats');

    if (convertBtn) {
        convertBtn.addEventListener('click', function() {
            const url = youtubeUrl.value.trim();
            if (!url) {
                showToast('Please enter a YouTube URL', 'error');
                return;
            }

            if (!isValidYouTubeUrl(url)) {
                showToast('Please enter a valid YouTube URL', 'error');
                return;
            }

            startConversion(url);
        });
    }

    // Tab switching functionality
    const tabBtns = document.querySelectorAll('.tab-btn');
    const tabPanels = document.querySelectorAll('.tab-panel');

    tabBtns.forEach(btn => {
        btn.addEventListener('click', function() {
            const tabId = this.getAttribute('data-tab');
            
            // Update active tab button
            tabBtns.forEach(b => b.classList.remove('active'));
            this.classList.add('active');
            
            // Show corresponding tab panel
            tabPanels.forEach(panel => panel.classList.remove('active'));
            const targetPanel = document.getElementById(tabId);
            if (targetPanel) {
                targetPanel.classList.add('active');
            }
        });
    });

    // Copy and download functionality for result actions
    const actionBtns = document.querySelectorAll('.action-btn');
    actionBtns.forEach(btn => {
        btn.addEventListener('click', function() {
            const action = this.id;
            if (action.startsWith('copy')) {
                handleCopy(action);
            } else if (action.startsWith('download')) {
                handleDownload(action);
            }
        });
    });

    function startConversion(url) {
        // Show progress
        progressContainer.style.display = 'block';
        resultsArea.style.display = 'none';
        quickStats.style.display = 'none';
        
        const progressFill = document.getElementById('progressFill');
        const progressText = document.getElementById('progressText');
        
        let progress = 0;
        const interval = setInterval(() => {
            progress += Math.random() * 20;
            if (progress > 90) progress = 90;
            
            progressFill.style.width = progress + '%';
            
            if (progress < 30) {
                progressText.textContent = 'Fetching video information...';
            } else if (progress < 60) {
                progressText.textContent = 'Downloading transcript...';
            } else if (progress < 80) {
                progressText.textContent = 'Converting to Braille...';
            } else {
                progressText.textContent = 'Finalizing...';
            }
        }, 500);

        // Simulate API call
        setTimeout(() => {
            clearInterval(interval);
            progressFill.style.width = '100%';
            progressText.textContent = 'Complete!';
            
            setTimeout(() => {
                progressContainer.style.display = 'none';
                showMockResults();
                showToast('YouTube video converted successfully!', 'success');
            }, 1000);
        }, 4000);
    }

    function showMockResults() {
        // Show results area and stats
        resultsArea.style.display = 'block';
        quickStats.style.display = 'block';
        
        // Populate with mock data
        document.getElementById('transcriptContent').innerHTML = `
            <div class="transcript-text">
                <strong>Youtube Transcript:</strong><br>
                ----<br>
                <strong>The Moon goes through phases</strong><br>
                Okay, I'm getting everything ready for this lesson!<br>
                Awesome!<br>
                I can't wait because we get to talk about the moon again!<br>
                I know we've done that already,<br>
                but that video was about the moon in general.<br>
                We want to have a whole video about the phases of the moon!<br>
                The phases of the moon!<br>
                Ever wonder why sometimes <span class="highlight-yellow">the moon looks like this</span>,<br>
                and you might think, "Hey, that's just what the moon looks like!"<br>
                And other times, the moon might look like a complete circle.<br>
                What's going on?<br>
                Well, the moon goes through phases.<br>
                <br>
                And what do the phases do?<br>The phases change what the moon<br>looks like to us here on Earth!<br>Here are the phases of the moon!<br>If you count them, you'll see<br>there are eight phases of the moon!<br>These are the phases of the moon.<br>Notice, in one phase you<br>don't see the moon at all.<br>And in another phase, you can see the entire moon!<br>So, these eight phases have a big impact<br>on what the moon looks like to us!<br><br>Soon, you'll know all eight of them!<br>New Moon<br>Alright! Let's jump right in and<br>learn these phases of the moon,<br>starting with the first phase of the moon.<br>It's called a new moon.<br>If you're wondering where it is, join the club!<br>It's actually right here,<br>where the arrow is pointing.<br>And notice, you can't see a new moon.<br>That's right!<br>It looks like it just isn't there!<br>So why can't we see a new moon?<br>Well, during a new moon the moon is<br>in between the sun and the earth.<br>Because of this, it can't reflect<br>the sun's light toward us.<br>So, during a new moon, we<br>can't really see the moon.<br>That's pretty interesting!<br>Now, after a new moon the moon starts waxing.<br>What?<br>Yeah!<br>Waxing!<br>What is that supposed to mean?<br>Well, waxing means growing.<br>When the moon is waxing, it is getting bigger!<br>Notice the moon begins waxing after a new<br>moon and grows until it becomes a full moon.<br>Waxing means growing.<br>After a new moon, the moon continues<br>waxing until it becomes a full moon.<br>Just remember, waxing means growing!<br>Waxing crescent<br>All right, we're ready for phase number two!<br>And look at this two!<br>So cool!<br>So icy!<br>So awesome!<br>The second phase of the moon<br>is called a waxing crescent.<br>A waxing crescent!<br>That's an interesting name for this!<br>A waxing crescent.<br>Waxing, of course, means<br>that it is growing bigger.<br>And it is called a crescent moon because<br>less than half of the moon looks lit.<br>If you live in the Northern Hemisphere (the<br>part of the world that is north of the equator),<br>a waxing crescent is always lit on the right side.<br>Hey!<br>Check this out!<br>Here is a photo of a waxing crescent!<br>Less than half of the moon looks lit!<br>If you live in the Northern<br>Hemisphere (north of the equator),<br><br>a waxing crescent is always lit on the right side.<br>This crescent moon is waxing<br>because it is growing.<br>This is the phase of the moon after a new moon.<br>Waxing crescent!<br>First quarter<br>Okay! You are ready for phase number three!<br>That's right!<br>The third phase of the moon<br>is called first quarter.<br>First quarter!<br>Which, at first might seem a little weird!<br>See, the moon is half-lit<br>with a first quarter moon.<br>So, what's the deal?<br>Shouldn't first quarter be called one-half moon?<br>Well, when you have a first<br>quarter moon, you are one-fourth<br><br>or one-quarter of the way through the lunar cycle.<br>You can see all eight phases of the moon here.<br>A first quarter moon tells you that you are a<br>quarter of the way through all eight phases.<br>So, a first quarter moon is half-lit.<br>And, because the moon is still waxing<br>(or growing) in the Northern Hemisphere,<br>the right side is lit.<br>Exactly one-half of a first quarter moon is lit<br><br>and it is lit on the right<br>side because it is waxing.<br>Waxing gibbous<br>Alright, we are ready for the next phase!<br>The next phase is called the waxing gibbous!<br>Waxing gibbous!<br>Wow!<br>Weird name...<br>weird name.<br>A waxing gibbous is more than<br>half-lit but not quite fully lit.<br>It is the fourth phase of the moon.<br>A waxing gibbous is more than half-lit<br>and like all of the waxing moons,<br>is lit on the right side.<br>Here is a photograph of a waxing gibbous.<br>Can you say that with me?<br>Waxing gibbous!<br>Softer.<br>Waxing gibbous.<br>Finally, let's say it so everyone can hear it!<br>Waxing gibbous!<br>Great!<br>Full Moon<br>The cool thing about a waxing<br>gibbous moon is that when you see it<br><br>you know a full moon is on its way!<br>And sure enough, phase number five is....<br>wait...Mr. Whiskers?<br>You need to eat right now?<br>Mr. Whiskers...this is not a convenient time!<br>We're about to talk about<br>a full moon and everything!<br>Okay!<br>I understand!<br>No kitty should wait!<br>*Dry cat food sounds*<br>All right!<br>There you go!<br>There you go...<br>Now, where were we?<br>Oh yes!<br>Phase number five of the moon!<br>Enjoy, Mr. Whiskers!<br>Phase number five!<br>The fifth phase is a full moon!<br>It is the easiest phase to spot.<br>A full moon is completely lit!<br>It is a full circle.<br>Is there anything else to say about it?<br>It's full!<br>It's a full moon.<br>And once the moon is full, it is all done waxing<br>because it can't grow anymore!<br>It's done waxing!<br>Which means, it will look like the<br>moon is getting smaller and smaller.<br>The fancy moon word for that is waning.<br>Waning!<br>That's an interesting word!<br>Waning!<br>The moon always begins waning after a full moon,<br>but just like waxing, waning is a process!<br>It doesn't happen all at once.<br>Okay, so the moon begins waning after a full moon.<br>It starts waning (appearing<br>smaller and smaller) until finally,<br>you can't even see it anymore!<br>When you can't see the moon, remember that is<br>a new moon (the first phase we talked about).<br>Waning starts with a full<br>moon and ends with a new moon.<br>When the moon is waning it looks like<br>it is getting smaller and smaller.<br>Waning gibbous<br>Now, after a full moon, we have phase number six.<br>A waning gibbous!<br>Wow!<br>A waning gibbous!<br>As you can see, a waning gibbous<br>is similar to a waxing gibbous.<br>Instead of getting bigger every day,<br>it is waning (or getting smaller).<br>A waning gibbous is more than half-lit,<br>and in the Northern Hemisphere it is lit on<br>the left side, instead of the right side!<br>That tells you that this is a waning gibbous.<br>It is getting smaller and smaller.<br>Last quarter<br>Next, we have the seventh phase of the moon!<br>You know,<br><br>the easiest way to learn the seventh phase<br>might be to look at it with the other phases.<br>Here are all eight phases of the moon!<br>The seventh phase is right here.<br>It is called the last quarter.<br>The last quarter means you only have<br>a quarter of the lunar cycle left!<br>A quarter means one-fourth.<br>You are in the last quarter of the lunar<br>cycle when you have a last quarter moon.<br>So, that name makes sense!<br>Just like a first quarter moon,<br>a last quarter moon is half-lit.<br>But, because the moon is waning<br>during a last quarter moon,<br>the moon is lit on the left side.<br>Quarter moons are always half-lit.<br>If you live in the Northern Hemisphere, the<br>last quarter is always lit on the left side.<br>Waning crescent<br>Well, the moon has been waning<br>(getting smaller and smaller).<br>There's only one more phase before<br>we start the cycle all over again!<br>That's right!<br>We are on phase number eight!<br>The last phase of the moon is a waning crescent.<br>A waning crescent!<br>A waning crescent is less than half-lit.<br>All crescent moons are less than half-lit.<br>To figure out if a crescent moon is<br>a waning or waxing crescent moon,<br>just look at the side it is lit on.<br>Waning moons are always lit on the left side,<br>so a waning crescent is less than half-lit and is<br>lit on the left side (like you see right here).<br>Review<br>Those are all eight phases of the moon!<br>Pretty cool!<br>If you have a favorite, you won't<br>have to wait long before you see it,<br>because it only takes a month for the<br>moon to go through all eight phases!<br>That means all of this just takes one month!<br>That's pretty awesome!<br>That's pretty cool!<br>All right, you know what?<br>It's time for a game!<br>We're gonna see how much we learned<br>about the phases of the moon!<br>Let's call it...uh...<br>the Faces of the Moon Game!<br>Yeah!<br>That's a good name for it!<br>Are you ready to play?<br>Okay!<br>Ooh!<br>Fancy music!<br>We'll go in order, just like in nature!<br>What is this phase called?<br>Yes!<br>A new moon!<br>Fantastic!<br>And of course, you can't see a new moon.<br>It's like it's hiding!<br>What is this phase called?<br>Uh-huh!<br>A waxing crescent!<br>Crescent moons are less than half-lit<br>and this moon is lit on the right side,<br>so it must be a waxing crescent!<br>Great job!<br>Hmm...what is this phase called?<br>It's half-lit.<br>Yeah!<br>First quarter!<br>This is a first quarter moon!<br>Very cool!<br>How about this moon?<br>What is this phase called?<br>A waxing gibbous!<br>A waxing gibbous!<br>Yep!<br>A gibbous moon is more than half-lit,<br>but is not quite full yet!<br>And we know it is a waxing gibbous<br>because it is lit on the right side!<br>Great!<br>What is this next phase?<br>What is it called?<br>You got it!<br>A full moon!<br>A full moon is easy to spot in the night sky!<br>It is completely lit!<br>A full moon!<br>You are doing awesome!<br>How about this next phase?<br>What is this phase?<br>Uh-huh!<br>A waning gibbous!<br>That's right!<br>A waning gibbous!<br>After a full moon, the moon begins<br>waning (or getting smaller).<br>A waning gibbous is more than<br>half-lit, just like a waxing gibbous,<br>but is lit on the left side!<br>You are doing a tremendous job!<br>Let's try this one!<br>What is this phase called?<br>Do you remember?<br>Yeah!<br>Last quarter!<br>This is a last quarter moon!<br>It is half-lit and begins the<br>last quarter of the lunar cycle.<br>A last quarter moon!<br>How about this last one?<br>What is this phase called?<br>Great!<br>A waning crescent!<br>A waning crescent!<br>It is less than half-lit, which<br>is what makes it a crescent moon,<br>and it is lit on the left side.<br>So, it is waning!<br>Every month the moon goes<br>through all of the phases!<br>The moon goes around and<br>around, waxing and waning!<br>It's pretty amazing!<br>Well, you know all eight phases of the moon!<br>Tell your friends!<br>Tell a dog!<br>Tell a cat!<br>Tell a hamster!<br>Whatever!<br>Just tell someone, because it's pretty cool!<br>It's pretty cool that you know<br>all eight phases of the moon!<br>We always love to thank our patrons<br>for making videos like this possible!<br>If you'd like to join as a patron, YOU CAN!<br>You can click the link below and get cool tattoos<br>or visit HomeschoolPop.com!<br>That would mean a lot to us!<br>Thank you for learning about<br>the phases of the moon with us!<br>We hope you had a ton of fun!<br>You are SO awesome and we<br>hope to see you next video!
            </div>
        `;
        
        document.getElementById('originalText').value = `Understanding the Moon's Changing Looks
Have you ever thought about how the Moon appears to change in the night sky? Sometimes it feels like a tiny sliver, other times it feels like a big, bright circle! These changes are not because the Moon is actually changing its shape, but because of how much of its surface is lit up by the Sun as the Moon travels around the Earth. These different appearances are called lunar phases, and there are eight of them. The Moon goes through all these phases in about a month!

The Moon's Eight Appearances
Let's explore the different ways the Moon appears to us:

New Moon: Imagine the Moon is like a quiet friend. During a new moon, it's positioned between the Sun and Earth, so the side facing us isn't lit up at all. We can't sense it in the sky!

Getting Brighter: Waxing!
After the new moon, a little bit of the Moon starts to get light, and it gets brighter each night. This is called waxing. Think of it like something slowly growing bigger and brighter.

Waxing Crescent: This is when we can notice just a tiny, bright curve of the Moon. Less than half of the Moon is lit. Since it's waxing, this bright curve is on the right side of the Moon.

First Quarter: Now, half of the Moon feels bright! Even though it's called "first quarter," it means the Moon has finished one-fourth of its trip around Earth. The right half is bright.

Waxing Gibbous: The Moon is getting even brighter now! More than half of it is lit, but it's not a full circle yet. The bright part is still on the right side because it's waxing.

The Big Bright Moon
Full Moon: Wow! This is when the entire Moon feels completely bright, like a large, glowing circle. It's often easy to notice and feels so bright! The Earth is right between the Sun and the Moon, so we experience the Moon's fully lit side. After this, the Moon starts to appear "smaller" again.

Getting Smaller: Waning!
Once the Moon is full, the bright part starts to get smaller and smaller each night. This is called waning. Imagine something slowly diminishing in size.

Waning Gibbous: Just like the waxing gibbous, more than half of the Moon is still lit, but now the bright area is getting smaller. The lit part is on the left side.

Last Quarter: Again, half of the Moon is lit, but now it's the left half. This means the Moon has completed three-fourths of its journey around Earth.

Waning Crescent: This is the last tiny sliver we sense before the Moon seems to disappear again for the new moon. It's a thin curve, but this time it's on the left side, showing it's still waning.

The Moon's Continuous Dance
The Moon keeps going around and around the Earth, changing how it appears from brighter (waxing) to dimmer (waning), over and over again. It's like a never-ending cycle in the sky! Now you know all eight of the Moon's amazing phases! Isn't that cool?
`;
        
        document.getElementById('brailleText').value = `⠠⠥⠝⠙⠑⠗⠎⠞⠁⠝⠙⠊⠝⠛ ⠞⠓⠑ ⠠⠍⠕⠕⠝⠄⠎ ⠠⠉⠓⠁⠝⠛⠊⠝⠛    
⠠⠇⠕⠕⠅⠎                                  
⠠⠓⠁⠧⠑ ⠽⠕⠥ ⠑⠧⠑⠗ ⠞⠓⠕⠥⠛⠓⠞ ⠁⠃⠕⠥⠞ ⠓⠕⠺ ⠞⠓⠑    
⠠⠍⠕⠕⠝ ⠁⠏⠏⠑⠁⠗⠎ ⠞⠕ ⠉⠓⠁⠝⠛⠑ ⠊⠝ ⠞⠓⠑ ⠝⠊⠛⠓⠞    
⠎⠅⠽⠦ ⠠⠎⠕⠍⠑⠞⠊⠍⠑⠎ ⠊⠞ ⠋⠑⠑⠇⠎ ⠇⠊⠅⠑ ⠁ ⠞⠊⠝⠽    
⠎⠇⠊⠧⠑⠗⠂ ⠕⠞⠓⠑⠗ ⠞⠊⠍⠑⠎ ⠊⠞ ⠋⠑⠑⠇⠎ ⠇⠊⠅⠑ ⠁ ⠃⠊⠛⠂
⠃⠗⠊⠛⠓⠞ ⠉⠊⠗⠉⠇⠑⠖ ⠠⠞⠓⠑⠎⠑ ⠉⠓⠁⠝⠛⠑⠎ ⠁⠗⠑ ⠝⠕⠞   
⠃⠑⠉⠁⠥⠎⠑ ⠞⠓⠑ ⠠⠍⠕⠕⠝ ⠊⠎ ⠁⠉⠞⠥⠁⠇⠇⠽ ⠉⠓⠁⠝⠛⠊⠝⠛  
⠊⠞⠎ ⠎⠓⠁⠏⠑⠂ ⠃⠥⠞ ⠃⠑⠉⠁⠥⠎⠑ ⠕⠋ ⠓⠕⠺ ⠍⠥⠉⠓ ⠕⠋   
⠊⠞⠎ ⠎⠥⠗⠋⠁⠉⠑ ⠊⠎ ⠇⠊⠞ ⠥⠏ ⠃⠽ ⠞⠓⠑ ⠠⠎⠥⠝ ⠁⠎ ⠞⠓⠑
⠠⠍⠕⠕⠝ ⠞⠗⠁⠧⠑⠇⠎ ⠁⠗⠕⠥⠝⠙ ⠞⠓⠑ ⠠⠑⠁⠗⠞⠓⠲ ⠠⠞⠓⠑⠎⠑ 
⠙⠊⠋⠋⠑⠗⠑⠝⠞ ⠁⠏⠏⠑⠁⠗⠁⠝⠉⠑⠎ ⠁⠗⠑ ⠉⠁⠇⠇⠑⠙ ⠇⠥⠝⠁⠗  
⠏⠓⠁⠎⠑⠎⠂ ⠁⠝⠙ ⠞⠓⠑⠗⠑ ⠁⠗⠑ ⠑⠊⠛⠓⠞ ⠕⠋ ⠞⠓⠑⠍⠲    
⠠⠞⠓⠑ ⠠⠍⠕⠕⠝ ⠛⠕⠑⠎ ⠞⠓⠗⠕⠥⠛⠓ ⠁⠇⠇ ⠞⠓⠑⠎⠑ ⠏⠓⠁⠎⠑⠎
⠊⠝ ⠁⠃⠕⠥⠞ ⠁ ⠍⠕⠝⠞⠓⠖                       
                                        
⠠⠞⠓⠑ ⠠⠍⠕⠕⠝⠄⠎ ⠠⠑⠊⠛⠓⠞ ⠠⠁⠏⠏⠑⠁⠗⠁⠝⠉⠑⠎        
⠠⠇⠑⠞⠄⠎ ⠑⠭⠏⠇⠕⠗⠑ ⠞⠓⠑ ⠙⠊⠋⠋⠑⠗⠑⠝⠞ ⠺⠁⠽⠎ ⠞⠓⠑   
⠠⠍⠕⠕⠝ ⠁⠏⠏⠑⠁⠗⠎ ⠞⠕ ⠥⠎⠒                    
                                        
⠠⠝⠑⠺ ⠠⠍⠕⠕⠝⠒ ⠠⠊⠍⠁⠛⠊⠝⠑ ⠞⠓⠑ ⠠⠍⠕⠕⠝ ⠊⠎ ⠇⠊⠅⠑ ⠁
⠟⠥⠊⠑⠞ ⠋⠗⠊⠑⠝⠙⠲ ⠠⠙⠥⠗⠊⠝⠛ ⠁ ⠝⠑⠺ ⠍⠕⠕⠝⠂ ⠊⠞⠄⠎  
⠏⠕⠎⠊⠞⠊⠕⠝⠑⠙ ⠃⠑⠞⠺⠑⠑⠝ ⠞⠓⠑ ⠠⠎⠥⠝ ⠁⠝⠙ ⠠⠑⠁⠗⠞⠓⠂ 
⠎⠕ ⠞⠓⠑ ⠎⠊⠙⠑ ⠋⠁⠉⠊⠝⠛ ⠥⠎ ⠊⠎⠝⠄⠞ ⠇⠊⠞ ⠥⠏ ⠁⠞   
⠁⠇⠇⠲ ⠠⠺⠑ ⠉⠁⠝⠄⠞ ⠎⠑⠝⠎⠑ ⠊⠞ ⠊⠝ ⠞⠓⠑ ⠎⠅⠽⠖     
                                        
⠠⠛⠑⠞⠞⠊⠝⠛ ⠠⠃⠗⠊⠛⠓⠞⠑⠗⠒ ⠠⠺⠁⠭⠊⠝⠛⠖            
⠠⠁⠋⠞⠑⠗ ⠞⠓⠑ ⠝⠑⠺ ⠍⠕⠕⠝⠂ ⠁ ⠇⠊⠞⠞⠇⠑ ⠃⠊⠞ ⠕⠋ ⠞⠓⠑
⠠⠍⠕⠕⠝ ⠎⠞⠁⠗⠞⠎ ⠞⠕ ⠛⠑⠞ ⠇⠊⠛⠓⠞⠂ ⠁⠝⠙ ⠊⠞ ⠛⠑⠞⠎  
⠃⠗⠊⠛⠓⠞⠑⠗ ⠑⠁⠉⠓ ⠝⠊⠛⠓⠞⠲ ⠠⠞⠓⠊⠎ ⠊⠎ ⠉⠁⠇⠇⠑⠙    
⠺⠁⠭⠊⠝⠛⠲ ⠠⠞⠓⠊⠝⠅ ⠕⠋ ⠊⠞ ⠇⠊⠅⠑ ⠎⠕⠍⠑⠞⠓⠊⠝⠛     
⠎⠇⠕⠺⠇⠽ ⠛⠗⠕⠺⠊⠝⠛ ⠃⠊⠛⠛⠑⠗ ⠁⠝⠙ ⠃⠗⠊⠛⠓⠞⠑⠗⠲     
                                        
⠠⠺⠁⠭⠊⠝⠛ ⠠⠉⠗⠑⠎⠉⠑⠝⠞⠒ ⠠⠞⠓⠊⠎ ⠊⠎ ⠺⠓⠑⠝ ⠺⠑ ⠉⠁⠝ 
⠝⠕⠞⠊⠉⠑ ⠚⠥⠎⠞ ⠁ ⠞⠊⠝⠽⠂ ⠃⠗⠊⠛⠓⠞ ⠉⠥⠗⠧⠑ ⠕⠋ ⠞⠓⠑ 
⠠⠍⠕⠕⠝⠲ ⠠⠇⠑⠎⠎ ⠞⠓⠁⠝ ⠓⠁⠇⠋ ⠕⠋ ⠞⠓⠑ ⠠⠍⠕⠕⠝ ⠊⠎  
⠇⠊⠞⠲ ⠠⠎⠊⠝⠉⠑ ⠊⠞⠄⠎ ⠺⠁⠭⠊⠝⠛⠂ ⠞⠓⠊⠎ ⠃⠗⠊⠛⠓⠞    
⠉⠥⠗⠧⠑ ⠊⠎ ⠕⠝ ⠞⠓⠑ ⠗⠊⠛⠓⠞ ⠎⠊⠙⠑ ⠕⠋ ⠞⠓⠑ ⠠⠍⠕⠕⠝⠲
                                        
⠠⠋⠊⠗⠎⠞ ⠠⠟⠥⠁⠗⠞⠑⠗⠒ ⠠⠝⠕⠺⠂ ⠓⠁⠇⠋ ⠕⠋ ⠞⠓⠑ ⠠⠍⠕⠕⠝
⠋⠑⠑⠇⠎ ⠃⠗⠊⠛⠓⠞⠖ ⠠⠑⠧⠑⠝ ⠞⠓⠕⠥⠛⠓ ⠊⠞⠄⠎ ⠉⠁⠇⠇⠑⠙  
⠐⠦⠋⠊⠗⠎⠞ ⠟⠥⠁⠗⠞⠑⠗⠂⠐⠦ ⠊⠞ ⠍⠑⠁⠝⠎ ⠞⠓⠑ ⠠⠍⠕⠕⠝   
⠓⠁⠎ ⠋⠊⠝⠊⠎⠓⠑⠙ ⠕⠝⠑⠤⠋⠕⠥⠗⠞⠓ ⠕⠋ ⠊⠞⠎ ⠞⠗⠊⠏     
⠁⠗⠕⠥⠝⠙ ⠠⠑⠁⠗⠞⠓⠲ ⠠⠞⠓⠑ ⠗⠊⠛⠓⠞ ⠓⠁⠇⠋ ⠊⠎       
⠃⠗⠊⠛⠓⠞⠲                                 
                                        
⠠⠺⠁⠭⠊⠝⠛ ⠠⠛⠊⠃⠃⠕⠥⠎⠒ ⠠⠞⠓⠑ ⠠⠍⠕⠕⠝ ⠊⠎ ⠛⠑⠞⠞⠊⠝⠛ 
⠑⠧⠑⠝ ⠃⠗⠊⠛⠓⠞⠑⠗ ⠝⠕⠺⠖ ⠠⠍⠕⠗⠑ ⠞⠓⠁⠝ ⠓⠁⠇⠋ ⠕⠋ ⠊⠞
⠊⠎ ⠇⠊⠞⠂ ⠃⠥⠞ ⠊⠞⠄⠎ ⠝⠕⠞ ⠁ ⠋⠥⠇⠇ ⠉⠊⠗⠉⠇⠑ ⠽⠑⠞⠲ 
⠠⠞⠓⠑ ⠃⠗⠊⠛⠓⠞ ⠏⠁⠗⠞ ⠊⠎ ⠎⠞⠊⠇⠇ ⠕⠝ ⠞⠓⠑ ⠗⠊⠛⠓⠞  
⠎⠊⠙⠑ ⠃⠑⠉⠁⠥⠎⠑ ⠊⠞⠄⠎ ⠺⠁⠭⠊⠝⠛⠲               
                                        
⠠⠞⠓⠑ ⠠⠃⠊⠛ ⠠⠃⠗⠊⠛⠓⠞ ⠠⠍⠕⠕⠝                 
⠠⠋⠥⠇⠇ ⠠⠍⠕⠕⠝⠒ ⠠⠺⠕⠺⠖ ⠠⠞⠓⠊⠎ ⠊⠎ ⠺⠓⠑⠝ ⠞⠓⠑    
⠑⠝⠞⠊⠗⠑ ⠠⠍⠕⠕⠝ ⠋⠑⠑⠇⠎ ⠉⠕⠍⠏⠇⠑⠞⠑⠇⠽ ⠃⠗⠊⠛⠓⠞⠂   
⠇⠊⠅⠑ ⠁ ⠇⠁⠗⠛⠑⠂ ⠛⠇⠕⠺⠊⠝⠛ ⠉⠊⠗⠉⠇⠑⠲ ⠠⠊⠞⠄⠎     
⠕⠋⠞⠑⠝ ⠑⠁⠎⠽ ⠞⠕ ⠝⠕⠞⠊⠉⠑ ⠁⠝⠙ ⠋⠑⠑⠇⠎ ⠎⠕       
⠃⠗⠊⠛⠓⠞⠖ ⠠⠞⠓⠑ ⠠⠑⠁⠗⠞⠓ ⠊⠎ ⠗⠊⠛⠓⠞ ⠃⠑⠞⠺⠑⠑⠝ ⠞⠓⠑
⠠⠎⠥⠝ ⠁⠝⠙ ⠞⠓⠑ ⠠⠍⠕⠕⠝⠂ ⠎⠕ ⠺⠑ ⠑⠭⠏⠑⠗⠊⠑⠝⠉⠑ ⠞⠓⠑
⠠⠍⠕⠕⠝⠄⠎ ⠋⠥⠇⠇⠽ ⠇⠊⠞ ⠎⠊⠙⠑⠲ ⠠⠁⠋⠞⠑⠗ ⠞⠓⠊⠎⠂ ⠞⠓⠑
⠠⠍⠕⠕⠝ ⠎⠞⠁⠗⠞⠎ ⠞⠕ ⠁⠏⠏⠑⠁⠗ ⠐⠦⠎⠍⠁⠇⠇⠑⠗⠐⠦      
⠁⠛⠁⠊⠝⠲                                  
                                        
⠠⠛⠑⠞⠞⠊⠝⠛ ⠠⠎⠍⠁⠇⠇⠑⠗⠒ ⠠⠺⠁⠝⠊⠝⠛⠖             
⠠⠕⠝⠉⠑ ⠞⠓⠑ ⠠⠍⠕⠕⠝ ⠊⠎ ⠋⠥⠇⠇⠂ ⠞⠓⠑ ⠃⠗⠊⠛⠓⠞ ⠏⠁⠗⠞
⠎⠞⠁⠗⠞⠎ ⠞⠕ ⠛⠑⠞ ⠎⠍⠁⠇⠇⠑⠗ ⠁⠝⠙ ⠎⠍⠁⠇⠇⠑⠗ ⠑⠁⠉⠓  
⠝⠊⠛⠓⠞⠲ ⠠⠞⠓⠊⠎ ⠊⠎ ⠉⠁⠇⠇⠑⠙ ⠺⠁⠝⠊⠝⠛⠲ ⠠⠊⠍⠁⠛⠊⠝⠑ 
⠎⠕⠍⠑⠞⠓⠊⠝⠛ ⠎⠇⠕⠺⠇⠽ ⠙⠊⠍⠊⠝⠊⠎⠓⠊⠝⠛ ⠊⠝ ⠎⠊⠵⠑⠲   
                                        
⠠⠺⠁⠝⠊⠝⠛ ⠠⠛⠊⠃⠃⠕⠥⠎⠒ ⠠⠚⠥⠎⠞ ⠇⠊⠅⠑ ⠞⠓⠑ ⠺⠁⠭⠊⠝⠛ 
⠛⠊⠃⠃⠕⠥⠎⠂ ⠍⠕⠗⠑ ⠞⠓⠁⠝ ⠓⠁⠇⠋ ⠕⠋ ⠞⠓⠑ ⠠⠍⠕⠕⠝ ⠊⠎ 
⠎⠞⠊⠇⠇ ⠇⠊⠞⠂ ⠃⠥⠞ ⠝⠕⠺ ⠞⠓⠑ ⠃⠗⠊⠛⠓⠞ ⠁⠗⠑⠁ ⠊⠎   
⠛⠑⠞⠞⠊⠝⠛ ⠎⠍⠁⠇⠇⠑⠗⠲ ⠠⠞⠓⠑ ⠇⠊⠞ ⠏⠁⠗⠞ ⠊⠎ ⠕⠝ ⠞⠓⠑
⠇⠑⠋⠞ ⠎⠊⠙⠑⠲                              
                                        
⠠⠇⠁⠎⠞ ⠠⠟⠥⠁⠗⠞⠑⠗⠒ ⠠⠁⠛⠁⠊⠝⠂ ⠓⠁⠇⠋ ⠕⠋ ⠞⠓⠑     
⠠⠍⠕⠕⠝ ⠊⠎ ⠇⠊⠞⠂ ⠃⠥⠞ ⠝⠕⠺ ⠊⠞⠄⠎ ⠞⠓⠑ ⠇⠑⠋⠞     
⠓⠁⠇⠋⠲ ⠠⠞⠓⠊⠎ ⠍⠑⠁⠝⠎ ⠞⠓⠑ ⠠⠍⠕⠕⠝ ⠓⠁⠎         
⠉⠕⠍⠏⠇⠑⠞⠑⠙ ⠞⠓⠗⠑⠑⠤⠋⠕⠥⠗⠞⠓⠎ ⠕⠋ ⠊⠞⠎ ⠚⠕⠥⠗⠝⠑⠽  
⠁⠗⠕⠥⠝⠙ ⠠⠑⠁⠗⠞⠓⠲                          
                                        
⠠⠺⠁⠝⠊⠝⠛ ⠠⠉⠗⠑⠎⠉⠑⠝⠞⠒ ⠠⠞⠓⠊⠎ ⠊⠎ ⠞⠓⠑ ⠇⠁⠎⠞    
⠞⠊⠝⠽ ⠎⠇⠊⠧⠑⠗ ⠺⠑ ⠎⠑⠝⠎⠑ ⠃⠑⠋⠕⠗⠑ ⠞⠓⠑ ⠠⠍⠕⠕⠝   
⠎⠑⠑⠍⠎ ⠞⠕ ⠙⠊⠎⠁⠏⠏⠑⠁⠗ ⠁⠛⠁⠊⠝ ⠋⠕⠗ ⠞⠓⠑ ⠝⠑⠺    
⠍⠕⠕⠝⠲ ⠠⠊⠞⠄⠎ ⠁ ⠞⠓⠊⠝ ⠉⠥⠗⠧⠑⠂ ⠃⠥⠞ ⠞⠓⠊⠎ ⠞⠊⠍⠑ 
⠊⠞⠄⠎ ⠕⠝ ⠞⠓⠑ ⠇⠑⠋⠞ ⠎⠊⠙⠑⠂ ⠎⠓⠕⠺⠊⠝⠛ ⠊⠞⠄⠎     
⠎⠞⠊⠇⠇ ⠺⠁⠝⠊⠝⠛⠲                           
                                        
⠠⠞⠓⠑ ⠠⠍⠕⠕⠝⠄⠎ ⠠⠉⠕⠝⠞⠊⠝⠥⠕⠥⠎ ⠠⠙⠁⠝⠉⠑         
⠠⠞⠓⠑ ⠠⠍⠕⠕⠝ ⠅⠑⠑⠏⠎ ⠛⠕⠊⠝⠛ ⠁⠗⠕⠥⠝⠙ ⠁⠝⠙ ⠁⠗⠕⠥⠝⠙
⠞⠓⠑ ⠠⠑⠁⠗⠞⠓⠂ ⠉⠓⠁⠝⠛⠊⠝⠛ ⠓⠕⠺ ⠊⠞ ⠁⠏⠏⠑⠁⠗⠎ ⠋⠗⠕⠍
⠃⠗⠊⠛⠓⠞⠑⠗ ⠐⠣⠺⠁⠭⠊⠝⠛⠐⠜ ⠞⠕ ⠙⠊⠍⠍⠑⠗           
⠐⠣⠺⠁⠝⠊⠝⠛⠐⠜⠂ ⠕⠧⠑⠗ ⠁⠝⠙ ⠕⠧⠑⠗ ⠁⠛⠁⠊⠝⠲ ⠠⠊⠞⠄⠎  
⠇⠊⠅⠑ ⠁ ⠝⠑⠧⠑⠗⠤⠑⠝⠙⠊⠝⠛ ⠉⠽⠉⠇⠑ ⠊⠝ ⠞⠓⠑ ⠎⠅⠽⠖   
⠠⠝⠕⠺ ⠽⠕⠥ ⠅⠝⠕⠺ ⠁⠇⠇ ⠑⠊⠛⠓⠞ ⠕⠋ ⠞⠓⠑ ⠠⠍⠕⠕⠝⠄⠎  
⠁⠍⠁⠵⠊⠝⠛ ⠏⠓⠁⠎⠑⠎⠖ ⠠⠊⠎⠝⠄⠞ ⠞⠓⠁⠞ ⠉⠕⠕⠇⠦       `;

        document.getElementById('embosserText').value = ` understanding the  moon's  changing    
 looks                                  
 have you ever thought about how the    
 moon appears to change in the night    
sky?  sometimes it feels like a tiny    
sliver, other times it feels like a big,
bright circle!  these changes are not   
because the  moon is actually changing  
its shape, but because of how much of   
its surface is lit up by the  sun as the
 moon travels around the  earth.  these 
different appearances are called lunar  
phases, and there are eight of them.    
 the  moon goes through all these phases
in about a month!                       
                                        
 the  moon's  eight  appearances        
 let's explore the different ways the   
 moon appears to us:                    
                                        
 new  moon:  imagine the  moon is like a
quiet friend.  during a new moon, it's  
positioned between the  sun and  earth, 
so the side facing us isn't lit up at   
                                      #a

all.  we can't sense it in the sky!     
                                        
 getting  brighter:  waxing!            
 after the new moon, a little bit of the
 moon starts to get light, and it gets  
brighter each night.  this is called    
waxing.  think of it like something     
slowly growing bigger and brighter.     
                                        
 waxing  crescent:  this is when we can 
notice just a tiny, bright curve of the 
 moon.  less than half of the  moon is  
lit.  since it's waxing, this bright    
curve is on the right side of the  moon.
                                        
 first  quarter:  now, half of the  moon
feels bright!  even though it's called  
 ?first quarter, ? it means the  moon   
has finished one-fourth of its trip     
around  earth.  the right half is       
bright.                                 
                                        
 waxing  gibbous:  the  moon is getting 
even brighter now!  more than half of it
                                      #b

is lit, but it's not a full circle yet. 
 the bright part is still on the right  
side because it's waxing.               
                                        
 the  big  bright  moon                 
 full  moon:  wow!  this is when the    
entire  moon feels completely bright,   
like a large, glowing circle.  it's     
often easy to notice and feels so       
bright!  the  earth is right between the
 sun and the  moon, so we experience the
 moon's fully lit side.  after this, the
 moon starts to appear  ?smaller ?      
again.                                  
                                        
 getting  smaller:  waning!             
 once the  moon is full, the bright part
starts to get smaller and smaller each  
night.  this is called waning.  imagine 
something slowly diminishing in size.   
                                        
 waning  gibbous:  just like the waxing 
gibbous, more than half of the  moon is 
still lit, but now the bright area is   
                                      #c

getting smaller.  the lit part is on the
left side.                              
                                        
 last  quarter:  again, half of the     
 moon is lit, but now it's the left     
half.  this means the  moon has         
completed three-fourths of its journey  
around  earth.                          
                                        
 waning  crescent:  this is the last    
tiny sliver we sense before the  moon   
seems to disappear again for the new    
moon.  it's a thin curve, but this time 
it's on the left side, showing it's     
still waning.                           
                                        
 the  moon's  continuous  dance         
 the  moon keeps going around and around
the  earth, changing how it appears from
brighter   waxing   to dimmer           
  waning  , over and over again.  it's  
like a never-ending cycle in the sky!   
 now you know all eight of the  moon's  
amazing phases!  isn't that cool?       
                                      #d

                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                      #e`;
        
        // Update stats
        document.getElementById('videoDuration').textContent = '8:32';
        document.getElementById('charCount').textContent = '2,847';
        document.getElementById('wordCount').textContent = '524';
        document.getElementById('brailleCount').textContent = '3,156';
    }

    function handleCopy(action) {
        let textToCopy = '';
        
        switch(action) {
            case 'copyTranscript':
                textToCopy = document.getElementById('transcriptContent').textContent;
                break;
            case 'copyOriginal':
                textToCopy = document.getElementById('originalText').value;
                break;
            case 'copyBraille':
                textToCopy = document.getElementById('brailleText').value;
                break;
            case 'copyEmbosser':
                textToCopy = document.getElementById('embosserText').value;
                break;
        }
        
        if (textToCopy) {
            navigator.clipboard.writeText(textToCopy).then(() => {
                showToast('Content copied to clipboard!', 'success');
            }).catch(() => {
                showToast('Failed to copy content', 'error');
            });
        }
    }

    function handleDownload(action) {
        let content = '';
        let filename = '';
        let mimeType = 'text/plain';
        
        switch(action) {
            case 'downloadTranscript':
                content = document.getElementById('transcriptContent').textContent;
                filename = 'youtube_transcript.txt';
                break;
            case 'downloadOriginal':
                content = document.getElementById('originalText').value;
                filename = 'enhanced_transcript.txt';
                break;
            case 'downloadBraille':
                content = document.getElementById('brailleText').value;
                filename = 'braille_output.txt';
                break;
            case 'downloadEmbosser':
                content = document.getElementById('embosserText').value;
                filename = 'embosser_ready.brf';
                break;
        }
        
        if (content) {
            downloadFile(content, filename, mimeType);
            showToast('File downloaded successfully!', 'success');
        }
    }

    function downloadFile(content, filename, mimeType) {
        const blob = new Blob([content], { type: mimeType });
        const url = URL.createObjectURL(blob);
        const link = document.createElement('a');
        link.href = url;
        link.download = filename;
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
        URL.revokeObjectURL(url);
    }

    function isValidYouTubeUrl(url) {
        const youtubeRegex = /^(https?:\/\/)?(www\.)?(youtube\.com\/watch\?v=|youtu\.be\/)[\w-]+/;
        return youtubeRegex.test(url);
    }

    function showToast(message, type = 'success') {
        const toast = document.getElementById('toast');
        const toastIcon = toast.querySelector('.toast-icon');
        const toastMessage = toast.querySelector('.toast-message');
        
        toast.className = `toast ${type}`;
        toastIcon.className = `toast-icon fas ${type === 'success' ? 'fa-check-circle' : 'fa-exclamation-circle'}`;
        toastMessage.textContent = message;
        
        toast.classList.add('show');
        
        setTimeout(() => {
            toast.classList.remove('show');
        }, 3000);
    }

    // Sidebar toggle functionality
    function toggleSidebar() {
        const sidebar = document.getElementById('learningSidebar');
        const toggle = document.querySelector('.sidebar-toggle');
        const floatingToggle = document.getElementById('floatingToggle');
        
        sidebar.classList.toggle('collapsed');
        
        if (sidebar.classList.contains('collapsed')) {
            if (toggle) toggle.innerHTML = '<i class="fas fa-chevron-right"></i>';
            if (floatingToggle) floatingToggle.classList.add('show');
        } else {
            if (toggle) toggle.innerHTML = '<i class="fas fa-bars"></i>';
            if (floatingToggle) floatingToggle.classList.remove('show');
        }
        
        // Save state to localStorage
        const isCollapsed = sidebar.classList.contains('collapsed');
        localStorage.setItem('sidebarCollapsed', isCollapsed);
    }

    function loadSidebarState() {
        const isCollapsed = localStorage.getItem('sidebarCollapsed') === 'true';
        const sidebar = document.getElementById('learningSidebar');
        const toggle = document.querySelector('.sidebar-toggle');
        const floatingToggle = document.getElementById('floatingToggle');
        
        if (isCollapsed) {
            sidebar.classList.add('collapsed');
            if (toggle) toggle.innerHTML = '<i class="fas fa-chevron-right"></i>';
            if (floatingToggle) floatingToggle.classList.add('show');
        } else {
            if (toggle) toggle.innerHTML = '<i class="fas fa-bars"></i>';
            if (floatingToggle) floatingToggle.classList.remove('show');
        }
    }

    // Load sidebar state on page load
    document.addEventListener('DOMContentLoaded', function() {
        loadSidebarState();
    });

    // Braille Art Editor functionality
    let currentAudio = null;
    let currentlyPlaying = false;
    let audioProgress = 0;
    let audioInterval = null;

    // Hardcoded content for demonstration
    const topicContent = {
        "Solar System": {
            description: "The Solar System consists of the Sun, eight planets, their moons, and various other celestial objects like asteroids and comets. The planets orbit the Sun in elliptical paths, with the inner planets being rocky and the outer planets being gas giants. Each planet has unique characteristics that make it special in our cosmic neighborhood.",
            images: [
                {
                    id: "SS001",
                    title: "Solar System Overview",
                    description: "Complete view of all planets orbiting the Sun",
                    braillePattern: "⠠⠎⠕⠇⠁⠗ ⠠⠎⠽⠎⠞⠑⠍\n⠕ ⠕ ⠕ ⠕ ⠕ ⠕ ⠕ ⠕\n⠉ ⠧ ⠑ ⠍ ⠚ ⠎ ⠥ ⠝\n☉ ● ● ● ● ● ● ●"
                },
                {
                    id: "SS002", 
                    title: "Earth and Moon",
                    description: "Earth with its natural satellite showing their relative sizes",
                    braillePattern: "⠠⠑⠁⠗⠞⠓ & ⠠⠍⠕⠕⠝\n⠿⠿⠿⠿⠿⠿⠿⠿\n⠿⠿⠿⠿⠿⠿⠿⠿  ⠕⠕\n⠿⠿⠿⠿⠿⠿⠿⠿  ⠕⠕\n⠿⠿⠿⠿⠿⠿⠿⠿"
                }
            ]
        },
        "Ocean Life": {
            description: "Ocean life encompasses an incredible diversity of organisms, from microscopic plankton to massive whales. The ocean is divided into different zones based on depth and light penetration. Marine ecosystems include coral reefs, deep-sea trenches, and kelp forests, each supporting unique communities of life adapted to their specific environments.",
            images: [
                {
                    id: "OL001",
                    title: "Ocean Layers",
                    description: "Different zones of the ocean from surface to deep sea",
                    braillePattern: "⠠⠕⠉⠑⠁⠝ ⠠⠵⠕⠝⠑⠎\n⠤⠤⠤⠤⠤⠤⠤⠤ Surface\n⠒⠒⠒⠒⠒⠒⠒⠒ Twilight\n⠿⠿⠿⠿⠿⠿⠿⠿ Midnight\n⠶⠶⠶⠶⠶⠶⠶⠶ Abyssal"
                },
                {
                    id: "OL002",
                    title: "Marine Animals",
                    description: "Various sea creatures showing size comparisons",
                    braillePattern: "⠠⠍⠁⠗⠊⠝⠑ ⠠⠇⠊⠋⠑\n🐋 ⠿⠿⠿⠿⠿⠿⠿⠿⠿⠿\n🐟 ⠕⠕⠕⠕\n🐙 ⠪⠪⠪⠪⠪⠪\n🦀 ⠭⠭"
                }
            ]
        },
        "Plant Growth": {
            description: "Plant growth involves the process of photosynthesis, root development, and cellular division. Plants grow toward light sources and develop specialized tissues for transport and support. The life cycle includes germination, vegetative growth, flowering, and reproduction, with each stage requiring specific environmental conditions.",
            images: [
                {
                    id: "PG001",
                    title: "Seed to Plant",
                    description: "Growth stages from seed germination to mature plant",
                    braillePattern: "⠠⠏⠇⠁⠝⠞ ⠠⠛⠗⠕⠺⠞⠓\n⠕ → ⠪ → ⠳ → ⠿\n⠀    ⠱    ⠱⠱   ⠱⠱⠱\n⠀    ⠀    ⠊    ⠊⠊⠊"
                },
                {
                    id: "PG002",
                    title: "Leaf Structure", 
                    description: "Cross-section of a leaf showing internal structures",
                    braillePattern: "⠠⠇⠑⠁⠋ ⠠⠎⠞⠗⠥⠉⠞⠥⠗⠑\n⠤⠤⠤⠤⠤⠤⠤⠤ Waxy coating\n⠒⠒⠒⠒⠒⠒⠒⠒ Upper epidermis\n⠿⠿⠿⠿⠿⠿⠿⠿ Mesophyll\n⠶⠶⠶⠶⠶⠶⠶⠶ Lower epidermis"
                }
            ]
        }
    };

    // Function to handle topic generation
    window.generateContent = function() {
        const topicInput = document.getElementById('topicInput');
        const topic = topicInput.value.trim();
        
        if (!topic) {
            showToast('Please enter a topic first!', 'error');
            return;
        }

        // Show loading
        const generateBtn = document.querySelector('.generate-btn');
        const originalText = generateBtn.innerHTML;
        generateBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Generating...';
        generateBtn.disabled = true;

        // Simulate API call delay
        setTimeout(() => {
            generateBtn.innerHTML = originalText;
            generateBtn.disabled = false;
            
            // Use hardcoded content or generate generic content
            const content = topicContent[topic] || generateGenericContent(topic);
            displayGeneratedContent(topic, content);
            
            // Scroll to generated content
            document.querySelector('.generated-content').scrollIntoView({ 
                behavior: 'smooth' 
            });
            
            showToast('Content generated successfully!', 'success');
        }, 2000);
    };

    // Function to generate generic content for any topic
    function generateGenericContent(topic) {
        return {
            description: `${topic} is a fascinating subject that involves complex interactions and relationships. This educational content provides tactile representations that help visualize the key concepts and structures related to ${topic}. Through Braille patterns and audio descriptions, learners can explore and understand the fundamental aspects of this topic.`,
            images: [
                {
                    id: `${topic.replace(/\s+/g, '').substring(0, 3).toUpperCase()}001`,
                    title: `${topic} Overview`,
                    description: `Basic representation of ${topic} concepts`,
                    braillePattern: `⠠${topic.substring(0, 8).split('').map(c => '⠁').join('')}\n⠿⠿⠿⠿⠿⠿⠿⠿\n⠒⠒⠒⠒⠒⠒⠒⠒\n⠤⠤⠤⠤⠤⠤⠤⠤`
                },
                {
                    id: `${topic.replace(/\s+/g, '').substring(0, 3).toUpperCase()}002`,
                    title: `${topic} Details`,
                    description: `Detailed view of ${topic} components`,
                    braillePattern: `⠠${topic.substring(0, 8).split('').map(c => '⠃').join('')}\n⠕⠕⠕⠕⠕⠕⠕⠕\n⠪⠪⠪⠪⠪⠪⠪⠪\n⠳⠳⠳⠳⠳⠳⠳⠳`
                }
            ]
        };
    }

    // Function to display generated content
    function displayGeneratedContent(topic, content) {
        const generatedContent = document.querySelector('.generated-content');
        
        generatedContent.innerHTML = `
            <div class="audio-section">
                <div class="audio-card">
                    <h3><i class="fas fa-volume-up"></i>Audio Description</h3>
                    <div class="audio-player">
                        <button class="play-btn" onclick="toggleAudio()">
                            <i class="fas fa-play"></i>
                            <span class="play-text">Play Description</span>
                        </button>
                        <div class="audio-controls" style="display: none;">
                            <div class="audio-progress">
                                <span class="time-display">0:00</span>
                                <div class="progress-bar">
                                    <div class="progress-fill"></div>
                                </div>
                                <span class="time-display">2:45</span>
                            </div>
                        </div>
                    </div>
                    <div class="audio-text">
                        <p><strong>Topic:</strong> ${topic}</p>
                        <p>${content.description}</p>
                    </div>
                </div>
            </div>

            <div class="images-section">
                <h3><i class="fas fa-images"></i>Tactile Visual Representations</h3>
                <div class="images-grid">
                    ${content.images.map(image => `
                        <div class="image-card">
                            <div class="image-preview">
                                <div class="braille-pattern">${image.braillePattern}</div>
                            </div>
                            <div class="image-info">
                                <div class="image-id">${image.id}</div>
                                <div class="image-title">${image.title}</div>
                                <div class="image-description">${image.description}</div>
                                <div class="image-actions">
                                    <button class="image-btn" onclick="enlargeImage('${image.id}')">
                                        <i class="fas fa-expand"></i>Enlarge
                                    </button>
                                    <button class="image-btn print-btn" onclick="printImage('${image.id}')">
                                        <i class="fas fa-print"></i>Print BRF
                                    </button>
                                </div>
                            </div>
                        </div>
                    `).join('')}
                </div>
            </div>

            <div class="session-controls">
                <div class="control-buttons">
                    <button class="control-btn save-btn" onclick="saveSession('${topic}')">
                        <i class="fas fa-save"></i>Save Session
                    </button>
                    <button class="control-btn print-btn" onclick="printAll('${topic}')">
                        <i class="fas fa-print"></i>Print All as BRF
                    </button>
                    <button class="control-btn change-topic-btn" onclick="changeTopic()">
                        <i class="fas fa-edit"></i>Change Topic
                    </button>
                </div>
            </div>
        `;

        generatedContent.style.display = 'block';
        updateSavedSessions(topic);
    }

    // Function to handle quick topic selection
    window.selectQuickTopic = function(topic) {
        document.getElementById('topicInput').value = topic;
        generateContent();
    };

    // Audio functionality
    window.toggleAudio = function() {
        const playBtn = document.querySelector('.play-btn');
        const controls = document.querySelector('.audio-controls');
        const playText = document.querySelector('.play-text');
        
        if (!currentlyPlaying) {
            // Start playing
            currentlyPlaying = true;
            playBtn.classList.add('playing');
            playBtn.innerHTML = '<i class="fas fa-pause"></i><span class="play-text">Pause</span>';
            controls.style.display = 'block';
            
            // Simulate audio playback with progress
            audioProgress = 0;
            audioInterval = setInterval(() => {
                audioProgress += 1;
                if (audioProgress >= 165) { // 2:45 = 165 seconds
                    stopAudio();
                    return;
                }
                updateAudioProgress();
            }, 1000);
            
            showToast('Audio playback started', 'success');
        } else {
            // Pause/Stop playing
            stopAudio();
        }
    };

    function stopAudio() {
        currentlyPlaying = false;
        const playBtn = document.querySelector('.play-btn');
        if (playBtn) {
            playBtn.classList.remove('playing');
            playBtn.innerHTML = '<i class="fas fa-play"></i><span class="play-text">Play Description</span>';
        }
        
        if (audioInterval) {
            clearInterval(audioInterval);
            audioInterval = null;
        }
        
        showToast('Audio playback stopped', 'info');
    }

    function updateAudioProgress() {
        const progressFill = document.querySelector('.progress-fill');
        const timeDisplay = document.querySelectorAll('.time-display')[0];
        
        if (progressFill && timeDisplay) {
            const percentage = (audioProgress / 165) * 100;
            progressFill.style.width = percentage + '%';
            
            const minutes = Math.floor(audioProgress / 60);
            const seconds = audioProgress % 60;
            timeDisplay.textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
        }
    }

    // Image functionality
    window.enlargeImage = function(imageId) {
        showToast(`Enlarged view of image ${imageId}`, 'info');
        // In a real implementation, this would open a modal or new window
    };

    window.printImage = function(imageId) {
        showToast(`Preparing BRF file for image ${imageId}...`, 'success');
        // In a real implementation, this would generate and download a BRF file
        setTimeout(() => {
            showToast(`BRF file for ${imageId} ready for download`, 'success');
        }, 2000);
    };

    // Session management
    window.saveSession = function(topic) {
        const sessions = JSON.parse(localStorage.getItem('brailleSessions') || '[]');
        const newSession = {
            id: Date.now().toString(),
            topic: topic,
            date: new Date().toLocaleDateString(),
            time: new Date().toLocaleTimeString(),
            timestamp: Date.now()
        };
        
        sessions.unshift(newSession);
        localStorage.setItem('brailleSessions', JSON.stringify(sessions.slice(0, 10))); // Keep only latest 10
        
        updateSavedSessions(topic);
        showToast(`Session "${topic}" saved successfully!`, 'success');
    };

    window.printAll = function(topic) {
        showToast(`Preparing complete BRF document for "${topic}"...`, 'success');
        setTimeout(() => {
            showToast(`Complete BRF document ready for download`, 'success');
        }, 3000);
    };

    window.changeTopic = function() {
        document.getElementById('topicInput').value = '';
        document.querySelector('.generated-content').style.display = 'none';
        document.getElementById('topicInput').focus();
        showToast('Ready for new topic input', 'info');
    };

    function updateSavedSessions(currentTopic) {
        const sessions = JSON.parse(localStorage.getItem('brailleSessions') || '[]');
        const sessionsList = document.querySelector('.sessions-list');
        
        if (!sessionsList) return;
        
        if (sessions.length === 0) {
            sessionsList.innerHTML = '<p style="text-align: center; color: #666; padding: 20px;">No saved sessions yet. Generate and save content to see your history here.</p>';
            return;
        }
        
        sessionsList.innerHTML = sessions.map(session => `
            <div class="session-item">
                <div class="session-info">
                    <div class="session-title">${session.topic}</div>
                    <div class="session-meta">Saved on ${session.date} at ${session.time}</div>
                </div>
                <div class="session-actions">
                    <button class="session-btn" onclick="loadSession('${session.topic}')">Load</button>
                    <button class="session-btn" onclick="deleteSession('${session.id}')" style="background: #dc3545;">Delete</button>
                </div>
            </div>
        `).join('');
    }

    window.loadSession = function(topic) {
        document.getElementById('topicInput').value = topic;
        generateContent();
        showToast(`Loaded session: ${topic}`, 'success');
    };

    window.deleteSession = function(sessionId) {
        const sessions = JSON.parse(localStorage.getItem('brailleSessions') || '[]');
        const filteredSessions = sessions.filter(session => session.id !== sessionId);
        localStorage.setItem('brailleSessions', JSON.stringify(filteredSessions));
        updateSavedSessions();
        showToast('Session deleted successfully', 'success');
    };

    // Initialize saved sessions on page load
    document.addEventListener('DOMContentLoaded', function() {
        updateSavedSessions();
        
        // Enter key support for topic input
        const topicInput = document.getElementById('topicInput');
        if (topicInput) {
            topicInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    generateContent();
                }
            });
        }

        // Initialize Braille learning system
        loadBrailleSessionHistory();
        
        // Enter key support for Braille topic input
        const brailleTopicInput = document.getElementById('brailleTopicInput');
        if (brailleTopicInput) {
            brailleTopicInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    startBrailleSession();
                }
            });
        }

        // Initialize BRaaS platform
        loadFavoriteVendors();
        
        // Enter key support for location search
        const locationSearch = document.getElementById('locationSearch');
        if (locationSearch) {
            locationSearch.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    searchVendors();
                }
            });
        }
    });

    // BRaaS Platform Variables
    let currentVendors = [];
    let favoriteVendors = JSON.parse(localStorage.getItem('favoriteVendors') || '[]');

    // Sample vendor data for demonstration
    const sampleVendors = [
        {
            id: 'v001',
            name: 'Mumbai Braille Foundation',
            location: 'Mumbai, Maharashtra',
            distance: '2.5 km',
            rating: 4.8,
            services: ['Educational Materials', 'Books & Literature', 'Custom Printing'],
            deliveryTime: '24h',
            verified: true,
            description: 'Leading Braille printing service with 15+ years experience',
            contact: '+91-9876543210'
        },
        {
            id: 'v002',
            name: 'Delhi NGO Printing Hub',
            location: 'New Delhi, Delhi',
            distance: '5.1 km',
            rating: 4.6,
            services: ['Documents & Forms', 'Educational Materials', 'Books & Literature'],
            deliveryTime: '3d',
            verified: true,
            description: 'Non-profit organization serving educational institutions',
            contact: '+91-9876543211'
        },
        {
            id: 'v003',
            name: 'Bangalore Accessibility Center',
            location: 'Bangalore, Karnataka',
            distance: '1.8 km',
            rating: 4.9,
            services: ['Custom Printing', 'Educational Materials', 'Technical Documents'],
            deliveryTime: '24h',
            verified: true,
            description: 'Specialized in technical and educational Braille materials',
            contact: '+91-9876543212'
        },
        {
            id: 'v004',
            name: 'Chennai Vision Institute',
            location: 'Chennai, Tamil Nadu',
            distance: '3.2 km',
            rating: 4.7,
            services: ['Books & Literature', 'Educational Materials'],
            deliveryTime: '1w',
            verified: false,
            description: 'Educational institute with Braille printing services',
            contact: '+91-9876543213'
        }
    ];

    // BRaaS Platform Functions
    window.searchVendors = function() {
        const location = document.getElementById('locationSearch').value.trim();
        const serviceType = document.getElementById('serviceTypeFilter').value;
        const deliveryTime = document.getElementById('deliveryFilter').value;
        
        if (!location) {
            showToast('Please enter a location to search', 'error');
            return;
        }

        // Show loading
        showToast('Searching for BRaaS vendors...', 'info');
        
        // Simulate API call
        setTimeout(() => {
            // Filter vendors based on criteria
            let filteredVendors = sampleVendors.filter(vendor => {
                let matches = true;
                
                if (serviceType !== 'all') {
                    const serviceMap = {
                        'educational': 'Educational Materials',
                        'books': 'Books & Literature',
                        'documents': 'Documents & Forms',
                        'custom': 'Custom Printing'
                    };
                    matches = matches && vendor.services.includes(serviceMap[serviceType]);
                }
                
                if (deliveryTime !== 'all') {
                    matches = matches && vendor.deliveryTime === deliveryTime;
                }
                
                return matches;
            });
            
            currentVendors = filteredVendors;
            displayVendorResults(filteredVendors, location);
            
            showToast(`Found ${filteredVendors.length} vendors in ${location}`, 'success');
        }, 1500);
    };

    function displayVendorResults(vendors, location) {
        const resultsSection = document.getElementById('vendorResults');
        const resultsCount = document.getElementById('resultsCount');
        const vendorsGrid = document.getElementById('vendorsGrid');
        
        resultsSection.style.display = 'block';
        resultsCount.textContent = `Found ${vendors.length} vendors in ${location}`;
        
        if (vendors.length === 0) {
            vendorsGrid.innerHTML = `
                <div style="grid-column: 1/-1; text-align: center; padding: 40px;">
                    <i class="fas fa-search" style="font-size: 3em; color: #bdc3c7; margin-bottom: 15px;"></i>
                    <h4 style="color: #666; margin-bottom: 10px;">No vendors found</h4>
                    <p style="color: #999;">Try adjusting your search criteria or location</p>
                </div>
            `;
            return;
        }
        
        vendorsGrid.innerHTML = vendors.map(vendor => `
            <div class="vendor-card">
                <div class="vendor-header">
                    <div class="vendor-info">
                        <h4>${vendor.name}</h4>
                        <div class="vendor-location">
                            <i class="fas fa-map-marker-alt"></i>
                            ${vendor.location} (${vendor.distance})
                        </div>
                    </div>
                    ${vendor.verified ? '<div class="vendor-badge">Verified</div>' : ''}
                </div>
                
                <div class="vendor-description">
                    <p style="color: #666; margin-bottom: 15px;">${vendor.description}</p>
                </div>
                
                <div class="vendor-rating" style="margin-bottom: 15px;">
                    <span style="color: #f39c12; font-weight: 600;">
                        ${'★'.repeat(Math.floor(vendor.rating))} ${vendor.rating}/5.0
                    </span>
                    <span style="color: #666; margin-left: 10px;">
                        <i class="fas fa-clock"></i> ${vendor.deliveryTime}
                    </span>
                </div>
                
                <div class="vendor-services">
                    <div class="services-list">
                        ${vendor.services.map(service => `<span class="service-tag">${service}</span>`).join('')}
                    </div>
                </div>
                
                <div class="vendor-actions">
                    <button class="vendor-btn primary" onclick="selectVendor('${vendor.id}')">
                        <i class="fas fa-paper-plane"></i>Request Print
                    </button>
                    <button class="vendor-btn secondary" onclick="toggleFavoriteVendor('${vendor.id}')">
                        <i class="fas fa-heart${favoriteVendors.includes(vendor.id) ? '' : '-o'}"></i>
                        ${favoriteVendors.includes(vendor.id) ? 'Remove' : 'Favorite'}
                    </button>
                </div>
            </div>
        `).join('');
        
        // Scroll to results
        resultsSection.scrollIntoView({ behavior: 'smooth' });
    }

    window.selectVendor = function(vendorId) {
        const vendor = currentVendors.find(v => v.id === vendorId);
        if (vendor) {
            showToast(`Redirecting to print request for ${vendor.name}...`, 'info');
            // In real implementation, this would redirect to a print request form
            setTimeout(() => {
                showToast('Print request form opened', 'success');
            }, 1500);
        }
    };

    window.toggleFavoriteVendor = function(vendorId) {
        const vendor = currentVendors.find(v => v.id === vendorId);
        if (!vendor) return;
        
        const index = favoriteVendors.indexOf(vendorId);
        if (index > -1) {
            favoriteVendors.splice(index, 1);
            showToast(`${vendor.name} removed from favorites`, 'info');
        } else {
            favoriteVendors.push(vendorId);
            showToast(`${vendor.name} added to favorites`, 'success');
        }
        
        localStorage.setItem('favoriteVendors', JSON.stringify(favoriteVendors));
        
        // Refresh the display
        if (currentVendors.length > 0) {
            const location = document.getElementById('locationSearch').value;
            displayVendorResults(currentVendors, location);
        }
        
        loadFavoriteVendors();
    };

    function loadFavoriteVendors() {
        const favoritesContent = document.getElementById('favoritesContent');
        if (!favoritesContent) return;
        
        if (favoriteVendors.length === 0) {
            favoritesContent.innerHTML = `
                <div class="no-favorites">
                    <i class="fas fa-heart-broken"></i>
                    <p>No favorite vendors yet. Search and add vendors to your favorites for quick access!</p>
                </div>
            `;
            return;
        }
        
        const favoriteVendorData = sampleVendors.filter(vendor => favoriteVendors.includes(vendor.id));
        
        favoritesContent.innerHTML = `
            <div class="vendors-grid">
                ${favoriteVendorData.map(vendor => `
                    <div class="vendor-card">
                        <div class="vendor-header">
                            <div class="vendor-info">
                                <h4>${vendor.name}</h4>
                                <div class="vendor-location">
                                    <i class="fas fa-map-marker-alt"></i>
                                    ${vendor.location}
                                </div>
                            </div>
                            <div class="vendor-badge">Favorite</div>
                        </div>
                        
                        <div class="vendor-services">
                            <div class="services-list">
                                ${vendor.services.slice(0, 2).map(service => `<span class="service-tag">${service}</span>`).join('')}
                            </div>
                        </div>
                        
                        <div class="vendor-actions">
                            <button class="vendor-btn primary" onclick="selectVendor('${vendor.id}')">
                                <i class="fas fa-paper-plane"></i>Request Print
                            </button>
                            <button class="vendor-btn secondary" onclick="toggleFavoriteVendor('${vendor.id}')">
                                <i class="fas fa-heart-broken"></i>Remove
                            </button>
                        </div>
                    </div>
                `).join('')}
            </div>
        `;
    }

    // Integration Functions
    window.showIntegrationDemo = function() {
        showToast('Starting integration demo...', 'info');
        
        // Simulate demo steps
        setTimeout(() => {
            showToast('Step 1: YouTube content converted to Braille', 'success');
        }, 1000);
        
        setTimeout(() => {
            showToast('Step 2: Vendor selection interface opened', 'info');
        }, 2500);
        
        setTimeout(() => {
            showToast('Step 3: Print request submitted successfully', 'success');
        }, 4000);
        
        setTimeout(() => {
            showToast('Demo completed! Integration workflow ready.', 'success');
        }, 5500);
    };

    window.activateTool = function(toolId) {
        // Function to activate specific learning tool
        const learningTools = document.querySelectorAll('.learning-tool');
        const contentSections = document.querySelectorAll('.content-section');
        
        // Update active tool
        learningTools.forEach(t => t.classList.remove('active'));
        const targetTool = document.querySelector(`[data-tool="${toolId}"]`);
        if (targetTool) {
            targetTool.classList.add('active');
        }
        
        // Show corresponding content section
        contentSections.forEach(section => {
            section.classList.remove('active');
        });
        
        const targetSection = document.getElementById(toolId);
        if (targetSection) {
            targetSection.classList.add('active');
        }
        
        // Update URL hash
        window.location.hash = toolId;
        
        showToast(`Switched to ${toolId.replace('-', ' ')} tool`, 'info');
    };

    // Vendor Registration Functions
    window.openVendorRegistration = function() {
        showToast('Opening vendor registration form...', 'info');
        
        setTimeout(() => {
            showToast('Vendor registration form loaded', 'success');
            // In real implementation, this would open a detailed registration form
        }, 1500);
    };

    window.downloadVendorInfo = function() {
        showToast('Preparing vendor information packet...', 'info');
        
        setTimeout(() => {
            showToast('Vendor info packet ready for download', 'success');
            // In real implementation, this would download a PDF with vendor requirements
        }, 2000);
    };

    // Braille Learning System Variables
    let currentContentAudio = null;
    let contentPlaying = false;
    let contentProgress = 0;
    let contentInterval = null;
    let feedbackAudio = null;

    // Hardcoded learning content
    const brailleLearningContent = {
        "Moon Phases": {
            title: "Moon Phases",
            content: "The moon's appearance changes dramatically as it orbits Earth, creating eight distinct phases that have fascinated humanity for millennia. The lunar cycle, also known as the lunation, takes approximately 29.5 days to complete and results from the changing positions of the Moon, Earth, and Sun. The New Moon marks the beginning of the lunar cycle, positioned between Earth and the Sun, making it invisible from our perspective. As the moon moves in its orbit, we begin to see the waxing phases, where the illuminated portion grows larger each night, leading to the spectacular Full Moon phase.",
            brailleText: "⠠⠞⠓⠑ ⠍⠕⠕⠝⠎ ⠁⠏⠏⠑⠁⠗⠁⠝⠉⠑ ⠉⠓⠁⠝⠛⠑⠎ ⠙⠗⠁⠍⠁⠞⠊⠉⠁⠇⠇⠽ ⠁⠎ ⠊⠞ ⠕⠗⠃⠊⠞⠎ ⠠⠑⠁⠗⠞⠓ ⠉⠗⠑⠁⠞⠊⠝⠛ ⠑⠊⠛⠓⠞ ⠙⠊⠎⠞⠊⠝⠉⠞ ⠏⠓⠁⠎⠑⠎ ⠞⠓⠁⠞ ⠓⠁⠧⠑ ⠋⠁⠎⠉⠊⠝⠁⠞⠑⠙ ⠓⠥⠍⠁⠝⠊⠞⠽ ⠋⠕⠗ ⠍⠊⠇⠇⠑⠝⠝⠊⠁⠲ ⠠⠞⠓⠑ ⠇⠥⠝⠁⠗ ⠉⠽⠉⠇⠑ ⠁⠇⠎⠕ ⠅⠝⠕⠺⠝ ⠁⠎ ⠞⠓⠑ ⠇⠥⠝⠁⠞⠊⠕⠝ ⠞⠁⠅⠑⠎ ⠁⠏⠏⠗⠕⠭⠊⠍⠁⠞⠑⠇⠽ ⠼⠃⠊⠲⠑ ⠙⠁⠽⠎ ⠞⠕ ⠉⠕⠍⠏⠇⠑⠞⠑ ⠁⠝⠙ ⠗⠑⠎⠥⠇⠞⠎ ⠋⠗⠕⠍ ⠞⠓⠑ ⠉⠓⠁⠝⠛⠊⠝⠛ ⠏⠕⠎⠊⠞⠊⠕⠝⠎ ⠕⠋ ⠞⠓⠑ ⠍⠕⠕⠝ ⠠⠑⠁⠗⠞⠓ ⠁⠝⠙ ⠎⠥⠝ ⠠⠞⠓⠑ ⠝⠑⠺ ⠍⠕⠕⠝ ⠍⠁⠗⠅⠎ ⠞⠓⠑ ⠃⠑⠛⠊⠝⠝⠊⠝⠛ ⠕⠋ ⠞⠓⠑ ⠇⠥⠝⠁⠗ ⠉⠽⠉⠇⠑ ⠏⠕⠎⠊⠞⠊⠕⠝⠑⠙ ⠃⠑⠞⠺⠑⠑⠝ ⠠⠑⠁⠗⠞⠓ ⠁⠝⠙ ⠞⠓⠑ ⠠⠎⠥⠝ ⠍⠁⠅⠊⠝⠛ ⠊⠞ ⠊⠝⠧⠊⠎⠊⠃⠇⠑ ⠋⠗⠕⠍ ⠕⠥⠗ ⠏⠑⠗⠎⠏⠑⠉⠞⠊⠧⠑ ⠁⠎ ⠞⠓⠑ ⠍⠕⠕⠝ ⠍⠕⠧⠑⠎ ⠊⠝ ⠊⠞⠎ ⠕⠗⠃⠊⠞ ⠺⠑ ⠃⠑⠛⠊⠝ ⠞⠕ ⠎⠑⠑ ⠞⠓⠑ ⠺⠁⠭⠊⠝⠛ ⠏⠓⠁⠎⠑⠎ ⠺⠓⠑⠗⠑ ⠞⠓⠑ ⠊⠇⠇⠥⠍⠊⠝⠁⠞⠑⠙ ⠏⠕⠗⠞⠊⠕⠝ ⠛⠗⠕⠺⠎ ⠇⠁⠗⠛⠑⠗ ⠑⠁⠉⠓ ⠝⠊⠛⠓⠞ ⠇⠑⠁⠙⠊⠝⠛ ⠞⠕ ⠞⠓⠑ ⠎⠏⠑⠉⠞⠁⠉⠥⠇⠁⠗ ⠠⠋⠥⠇⠇ ⠍⠕⠕⠝ ⠏⠓⠁⠎⠑"
        },
        "Solar System": {
            title: "Solar System",
            content: "The Solar System consists of the Sun, eight planets, their moons, and various other celestial objects. The planets orbit the Sun in elliptical paths, with the inner planets being rocky and the outer planets being gas giants. Mercury, Venus, Earth, and Mars are the terrestrial planets, while Jupiter, Saturn, Uranus, and Neptune are the gas giants. Each planet has unique characteristics that make it special in our cosmic neighborhood.",
            brailleText: "⠠⠞⠓⠑ ⠠⠎⠕⠇⠁⠗ ⠠⠎⠽⠎⠞⠑⠍ ⠉⠕⠝⠎⠊⠎⠞⠎ ⠕⠋ ⠞⠓⠑ ⠠⠎⠥⠝ ⠑⠊⠛⠓⠞ ⠏⠇⠁⠝⠑⠞⠎ ⠞⠓⠑⠊⠗ ⠍⠕⠕⠝⠎ ⠁⠝⠙ ⠧⠁⠗⠊⠕⠥⠎ ⠕⠞⠓⠑⠗ ⠉⠑⠇⠑⠎⠞⠊⠁⠇ ⠕⠃⠚⠑⠉⠞⠎⠲ ⠠⠞⠓⠑ ⠏⠇⠁⠝⠑⠞⠎ ⠕⠗⠃⠊⠞ ⠞⠓⠑ ⠠⠎⠥⠝ ⠊⠝ ⠑⠇⠇⠊⠏⠞⠊⠉⠁⠇ ⠏⠁⠞⠓⠎ ⠺⠊⠞⠓ ⠞⠓⠑ ⠊⠝⠝⠑⠗ ⠏⠇⠁⠝⠑⠞⠎ ⠃⠑⠊⠝⠛ ⠗⠕⠉⠅⠽ ⠁⠝⠙ ⠞⠓⠑ ⠕⠥⠞⠑⠗ ⠏⠇⠁⠝⠑⠞⠎ ⠃⠑⠊⠝⠛ ⠛⠁⠎ ⠛⠊⠁⠝⠞⠎⠲ ⠠⠍⠑⠗⠉⠥⠗⠽ ⠠⠧⠑⠝⠥⠎ ⠠⠑⠁⠗⠞⠓ ⠁⠝⠙ ⠠⠍⠁⠗⠎ ⠁⠗⠑ ⠞⠓⠑ ⠞⠑⠗⠗⠑⠎⠞⠗⠊⠁⠇ ⠏⠇⠁⠝⠑⠞⠎⠂ ⠺⠓⠊⠇⠑ ⠠⠚⠥⠏⠊⠞⠑⠗⠂ ⠠⠎⠁⠞⠥⠗⠝⠂ ⠠⠥⠗⠁⠝⠥⠎ ⠁⠝⠙ ⠠⠝⠑⠏⠞⠥⠝⠑ ⠁⠗⠑ ⠞⠓⠑ ⠛⠁⠎ ⠛⠊⠁⠝⠞⠎⠲ ⠑⠁⠉⠓ ⠏⠇⠁⠝⠑⠞ ⠓⠁⠎ ⠥⠝⠊⠟⠥⠑ ⠉⠓⠁⠗⠁⠉⠞⠑⠗⠊⠎⠞⠊⠉⠎ ⠞⠓⠁⠞ ⠍⠁⠅⠑ ⠊⠞ ⠎⠏⠑⠉⠊⠁⠇ ⠊⠝ ⠕⠥⠗ ⠉⠕⠎⠍⠊⠉ ⠝⠑⠊⠛⠓⠃⠕⠗⠓⠕⠕⠙"
        },
        "Ocean Life": {
            title: "Ocean Life",
            content: "Ocean life encompasses an incredible diversity of organisms, from microscopic plankton to massive whales. The ocean is divided into different zones based on depth and light penetration. Marine ecosystems include coral reefs, kelp forests, and deep-sea trenches, each supporting unique communities of life adapted to their specific environments.",
            brailleText: "⠕⠉⠑⠁⠝ ⠇⠊⠋⠑ ⠑⠝⠉⠕⠍⠏⠁⠎⠎⠑⠎ ⠁⠝ ⠊⠝⠉⠗⠑⠙⠊⠃⠇⠑ ⠙⠊⠧⠑⠗⠎⠊⠞⠽ ⠕⠋ ⠕⠗⠛⠁⠝⠊⠎⠍⠎ ⠋⠗⠕⠍ ⠍⠊⠉⠗⠕⠎⠉⠕⠏⠊⠉ ⠏⠇⠁⠝⠅⠞⠕⠝ ⠞⠕ ⠍⠁⠎⠎⠊⠧⠑ ⠺⠓⠁⠇⠑⠎ ⠞⠓⠑ ⠕⠉⠑⠁⠝ ⠊⠎ ⠙⠊⠧⠊⠙⠑⠙ ⠊⠝⠞⠕ ⠙⠊⠋⠋⠑⠗⠑⠝⠞ ⠵⠕⠝⠑⠎ ⠃⠁⠎⠑⠙ ⠕⠝ ⠙⠑⠏⠞⠓ ⠁⠝⠙ ⠇⠊⠛⠓⠞ ⠏⠑⠝⠑⠞⠗⠁⠞⠊⠕⠝ ⠍⠁⠗⠊⠝⠑ ⠑⠉⠕⠎⠽⠎⠞⠑⠍⠎ ⠊⠝⠉⠇⠥⠙⠑ ⠉⠕⠗⠁⠇ ⠗⠑⠑⠋⠎ ⠅⠑⠇⠏ ⠋⠕⠗⠑⠎⠞⠎ ⠁⠝⠙ ⠙⠑⠑⠏ ⠎⠑⠁ ⠞⠗⠑⠝⠉⠓⠑⠎ ⠑⠁⠉⠓ ⠎⠥⠏⠏⠕⠗⠞⠊⠝⠛ ⠥⠝⠊⠟⠥⠑ ⠉⠕⠍⠍⠥⠝⠊⠞⠊⠑⠎ ⠕⠋ ⠇⠊⠋⠑ ⠁⠙⠁⠏⠞⠑⠙ ⠞⠕ ⠞⠓⠑⠊⠗ ⠎⠏⠑⠉⠊⠋⠊⠉ ⠑⠝⠧⠊⠗⠕⠝⠍⠑⠝⠞⠎"
        },
        "Plant Growth": {
            title: "Plant Growth", 
            content: "Plant growth involves the process of photosynthesis, root development, and cellular division. Plants grow toward light sources and develop specialized tissues for transport and support. The life cycle includes germination, vegetative growth, flowering, and reproduction, with each stage requiring specific environmental conditions.",
            brailleText: "⠏⠇⠁⠝⠞ ⠛⠗⠕⠺⠞⠓ ⠊⠝⠧⠕⠇⠧⠑⠎ ⠞⠓⠑ ⠏⠗⠕⠉⠑⠎⠎ ⠕⠋ ⠏⠓⠕⠞⠕⠎⠽⠝⠞⠓⠑⠎⠊⠎ ⠗⠕⠕⠞ ⠙⠑⠧⠑⠇⠕⠏⠍⠑⠝⠞ ⠁⠝⠙ ⠉⠑⠇⠇⠥⠇⠁⠗ ⠙⠊⠧⠊⠎⠊⠕⠝ ⠏⠇⠁⠝⠞⠎ ⠛⠗⠕⠺ ⠞⠕⠺⠁⠗⠙ ⠇⠊⠛⠓⠞ ⠎⠕⠥⠗⠉⠑⠎ ⠁⠝⠙ ⠙⠑⠧⠑⠇⠕⠏ ⠎⠏⠑⠉⠊⠁⠇⠊⠵⠑⠙ ⠞⠊⠎⠎⠥⠑⠎ ⠋⠕⠗ ⠞⠗⠁⠝⠎⠏⠕⠗⠞ ⠁⠝⠙ ⠎⠥⠏⠏⠕⠗⠞ ⠞⠓⠑ ⠇⠊⠋⠑ ⠉⠽⠉⠇⠑ ⠊⠝⠉⠇⠥⠙⠑⠎ ⠛⠑⠗⠍⠊⠝⠁⠞⠊⠕⠝ ⠧⠑⠛⠑⠞⠁⠞⠊⠧⠑ ⠛⠗⠕⠺⠞⠓ ⠋⠇⠕⠺⠑⠗⠊⠝⠛ ⠁⠝⠙ ⠗⠑⠏⠗⠕⠙⠥⠉⠞⠊⠕⠝ ⠺⠊⠞⠓ ⠑⠁⠉⠓ ⠎⠞⠁⠛⠑ ⠗⠑⠟⠥⠊⠗⠊⠝⠛ ⠎⠏⠑⠉⠊⠋⠊⠉ ⠑⠝⠧⠊⠗⠕⠝⠍⠑⠝⠞⠁⠇ ⠉⠕⠝⠙⠊⠞⠊⠕⠝⠎"
        }
    };

    const brailleArtLearningContent = {
        "Human Heart": {
            title: "Human Heart",
            caption: " Figure: Human Heart, you can ask Dhvani for more details about the human heart.",
            brailleArt: `
⠀⠀⠀⠀⠤⠤⠀⠀⠽⠛⠓⠽⠛⠓⠀⠤⠤
⠀⠽⠋⠉⠉⠉⠻⠶⠿⠀⠻⠿⠶⠿⠿⠛⠀⠳
⠀⠿⠟⠛⠶⠶⠟⠿⠿⠶⠾⠟⠀⣞⠟⠀⠾⠋
⠀⠿⠀⠀⠀⠀⠀⠿⠟⠀⠀⠀⠀⠀⠁⠉⠯⠿⠶⠄
⠀⠿⠀⠀⠀⠀⣾⠏⠀⠀⠀⠤⠶⠓⠶⠟⠋⠉⠿⠀⠿
⠀⠿⠀⠀⠀⠀⠿⠀⠀⠀⣾⠋⠀⠄⠁⠀⠀⠀⠿⠤⠿
⠀⠿⠀⠁⠀⠀⠿⠀⠃⠀⠙⠿⠀⠉⠀⠀⠽⠿⠛⠉
⠀⠿⠀⠀⠀⠀⠻⠄⠀⠀⣾⠏⠀⠀⠀⠸⠿⠤⠤⠽⠟⠉⠿
⠀⠿⠮⠾⠤⠶⠛⠛⠿⠿⠿⠓⠀⠀⠀⠿⠉⠉⠙⠿⠻⠾⠋
⠀⠿⠟⠁⠀⠀⠀⠀⠀⠀⠿⠛⠻⠾⠇⠀⠀⠀⠀⠀⠄⠿
⠀⠿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠯⠇⠀⠙⠻⠓⠀⠀⠙⠀⠀⠿
⠯⠇⠀⠀⠀⠀⠀⠀⠀⠀⠽⠏⠀⠀⠀⠀⠄⠻⠓⠤⠤⠶⠿⠿
⠿⠀⠀⠀⠀⠀⠀⠀⠀⠽⠋⠇⠀⠀⠀⠀⠀⠀⠄⠿⠀⠀⠀⠿
⠯⠇⠀⠀⠀⠮⠶⠞⠋⠀⠀⠱⠀⠀⠀⠀⠀⠀⠀⠀⠿⠀⠀⠀⠯⠇
⣞⠿⠀⠀⠀⠹⠀⠀⠀⠀⠀⣞⠄⠀⠀⠝⠤⠤⠞⠯⠀⠀⠀⠀⠿
⠻⠇⠀⠀⠀⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠯⠀⠀⠀⠀⠿
⠀⠀⠻⠄⠀⠀⠱⠤⠤⠊⠊⠀⠀⠀⠀⠀⠀⠀⠀⠗⠀⠀⠀⠯⠇
⠀⠀⠀⠻⠄⠀⠀⠄⠝⠄⠀⠀⠀⠑⠀⠀⠀⠀⠎⠀⠀⠀⠀⠿
⠀⠀⠀⠀⠙⠿⠀⠀⠀⠧⠀⠀⠀⠀⠀⠝⠤⠗⠀⠀⠀⠀⠯⠇
⠀⠀⠀⠀⠀⠄⠻⠓⠀⠀⠑⠀⠀⠀⠀⠀⠀⠄⠝⠀⠀⠀⠿
⠀⠀⠀⠀⠀⠀⠀⠀⠙⠿⠓⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠾⠃
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠄⠻⠶⠤⠤⠶⠛⠟⠁
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠉⠙⠻⠶⠛⠉

`
        },
        "Solar System": {
            title: "Solar System",
            caption: "Figure: Solar System, you can ask Dhvani for more details about the solar system.",
            brailleArt: "⠠⠞⠓⠑ ⠠⠎⠕⠇⠁⠗ ⠠⠎⠽⠎⠞⠑⠍ ⠉⠕⠝⠎⠊⠎⠞⠎ ⠕⠋ ⠞⠓⠑ ⠠⠎⠥⠝ ⠑⠊⠛⠓⠞ ⠏⠇⠁⠝⠑⠞⠎ ⠞⠓⠑⠊⠗ ⠍⠕⠕⠝⠎ ⠁⠝⠙ ⠧⠁⠗⠊⠕⠥⠎ ⠕⠞⠓⠑⠗ ⠉⠑⠇⠑⠎⠞⠊⠁⠇ ⠕⠃⠚⠑⠉⠞⠎⠲ ⠠⠞⠓⠑ ⠏⠇⠁⠝⠑⠞⠎ ⠕⠗⠃⠊⠞ ⠞⠓⠑ ⠠⠎⠥⠝ ⠊⠝ ⠑⠇⠇⠊⠏⠞⠊⠉⠁⠇ ⠏⠁⠞⠓⠎ ⠺⠊⠞⠓ ⠞⠓⠑ ⠊⠝⠝⠑⠗ ⠏⠇⠁⠝⠑⠞⠎ ⠃⠑⠊⠝⠛ ⠗⠕⠉⠅⠽ ⠁⠝⠙ ⠞⠓⠑ ⠕⠥⠞⠑⠗ ⠏⠇⠁⠝⠑⠞⠎ ⠃⠑⠊⠝⠛ ⠛⠁⠎ ⠛⠊⠁⠝⠞⠎⠲ ⠠⠍⠑⠗⠉⠥⠗⠽ ⠠⠧⠑⠝⠥⠎ ⠠⠑⠁⠗⠞⠓ ⠁⠝⠙ ⠠⠍⠁⠗⠎ ⠁⠗⠑ ⠞⠓⠑ ⠞⠑⠗⠗⠑⠎⠞⠗⠊⠁⠇ ⠏⠇⠁⠝⠑⠞⠎⠂ ⠺⠓⠊⠇⠑ ⠠⠚⠥⠏⠊⠞⠑⠗⠂ ⠠⠎⠁⠞⠥⠗⠝⠂ ⠠⠥⠗⠁⠝⠥⠎ ⠁⠝⠙ ⠠⠝⠑⠏⠞⠥⠝⠑ ⠁⠗⠑ ⠞⠓⠑ ⠛⠁⠎ ⠛⠊⠁⠝⠞⠎⠲ ⠑⠁⠉⠓ ⠏⠇⠁⠝⠑⠞ ⠓⠁⠎ ⠥⠝⠊⠟⠥⠑ ⠉⠓⠁⠗⠁⠉⠞⠑⠗⠊⠎⠞⠊⠉⠎ ⠞⠓⠁⠞ ⠍⠁⠅⠑ ⠊⠞ ⠎⠏⠑⠉⠊⠁⠇ ⠊⠝ ⠕⠥⠗ ⠉⠕⠎⠍⠊⠉ ⠝⠑⠊⠛⠓⠃⠕⠗⠓⠕⠕⠙"
        },
        "Plant Cell": {
            title: "Plant Cell",
            caption: "Figure: Plant Cell, you can ask Dhvani for more details about plant cells.",
            brailleArt: "⠕⠉⠑⠁⠝ ⠇⠊⠋⠑ ⠑⠝⠉⠕⠍⠏⠁⠎⠎⠑⠎ ⠁⠝ ⠊⠝⠉⠗⠑⠙⠊⠃⠇⠑ ⠙⠊⠧⠑⠗⠎⠊⠞⠽ ⠕⠋ ⠕⠗⠛⠁⠝⠊⠎⠍⠎ ⠋⠗⠕⠍ ⠍⠊⠉⠗⠕⠎⠉⠕⠏⠊⠉ ⠏⠇⠁⠝⠅⠞⠕⠝ ⠞⠕ ⠍⠁⠎⠎⠊⠧⠑ ⠺⠓⠁⠇⠑⠎ ⠞⠓⠑ ⠕⠉⠑⠁⠝ ⠊⠎ ⠙⠊⠧⠊⠙⠑⠙ ⠊⠝⠞⠕ ⠙⠊⠋⠋⠑⠗⠑⠝⠞ ⠵⠕⠝⠑⠎ ⠃⠁⠎⠑⠙ ⠕⠝ ⠙⠑⠏⠞⠓ ⠁⠝⠙ ⠇⠊⠛⠓⠞ ⠏⠑⠝⠑⠞⠗⠁⠞⠊⠕⠝ ⠍⠁⠗⠊⠝⠑ ⠑⠉⠕⠎⠽⠎⠞⠑⠍⠎ ⠊⠝⠉⠇⠥⠙⠑ ⠉⠕⠗⠁⠇ ⠗⠑⠑⠋⠎ ⠅⠑⠇⠏ ⠋⠕⠗⠑⠎⠞⠎ ⠁⠝⠙ ⠙⠑⠑⠏ ⠎⠑⠁ ⠞⠗⠑⠝⠉⠓⠑⠎ ⠑⠁⠉⠓ ⠎⠥⠏⠏⠕⠗⠞⠊⠝⠛ ⠥⠝⠊⠟⠥⠑ ⠉⠕⠍⠍⠥⠝⠊⠞⠊⠑⠎ ⠕⠋ ⠇⠊⠋⠑ ⠁⠙⠁⠏⠞⠑⠙ ⠞⠕ ⠞⠓⠑⠊⠗ ⠎⠏⠑⠉⠊⠋⠊⠉ ⠑⠝⠧⠊⠗⠕⠝⠍⠑⠝⠞⠎"
        },
        "Human Brain": {
            title: "Human Brain", 
            caption: "Figure: Human Brain, you can ask Dhvani for more details about the human brain.",
            brailleArt: "⠏⠇⠁⠝⠞ ⠛⠗⠕⠺⠞⠓ ⠊⠝⠧⠕⠇⠧⠑⠎ ⠞⠓⠑ ⠏⠗⠕⠉⠑⠎⠎ ⠕⠋ ⠏⠓⠕⠞⠕⠎⠽⠝⠞⠓⠑⠎⠊⠎ ⠗⠕⠕⠞ ⠙⠑⠧⠑⠇⠕⠏⠍⠑⠝⠞ ⠁⠝⠙ ⠉⠑⠇⠇⠥⠇⠁⠗ ⠙⠊⠧⠊⠎⠊⠕⠝ ⠏⠇⠁⠝⠞⠎ ⠛⠗⠕⠺ ⠞⠕⠺⠁⠗⠙ ⠇⠊⠛⠓⠞ ⠎⠕⠥⠗⠉⠑⠎ ⠁⠝⠙ ⠙⠑⠧⠑⠇⠕⠏ ⠎⠏⠑⠉⠊⠁⠇⠊⠵⠑⠙ ⠞⠊⠎⠎⠥⠑⠎ ⠋⠕⠗ ⠞⠗⠁⠝⠎⠏⠕⠗⠞ ⠁⠝⠙ ⠎⠥⠏⠏⠕⠗⠞ ⠞⠓⠑ ⠇⠊⠋⠑ ⠉⠽⠉⠇⠑ ⠊⠝⠉⠇⠥⠙⠑⠎ ⠛⠑⠗⠍⠊⠝⠁⠞⠊⠕⠝ ⠧⠑⠛⠑⠞⠁⠞⠊⠧⠑ ⠛⠗⠕⠺⠞⠓ ⠋⠇⠕⠺⠑⠗⠊⠝⠛ ⠁⠝⠙ ⠗⠑⠏⠗⠕⠙⠥⠉⠞⠊⠕⠝ ⠺⠊⠞⠓ ⠑⠁⠉⠓ ⠎⠞⠁⠛⠑ ⠗⠑⠟⠥⠊⠗⠊⠝⠛ ⠎⠏⠑⠉⠊⠋⠊⠉ ⠑⠝⠧⠊⠗⠕⠝⠍⠑⠝⠞⠁⠇ ⠉⠕⠝⠙⠊⠞⠊⠕⠝⠎"
        },
        "Water Cycle": {
            title: "Water Cycle",
            caption: "Figure: Water Cycle, you can ask Dhvani for more details about the water cycle.",
            brailleArt: "⠞⠓⠑ ⠺⠁⠞⠑⠗ ⠉⠽⠉⠇⠑ ⠙⠑⠎⠉⠗⠊⠃⠑⠎ ⠞⠓⠑ ⠉⠕⠝⠞⠊⠝⠥⠕⠥⠎ ⠍⠕⠧⠑⠍⠑⠝⠞"
        }
    };


    // Braille Learning System Functions
    window.selectBrailleTopic = function(topic) {
        document.getElementById('brailleTopicInput').value = topic;
        startBrailleSession();
    };

    window.selectBrailleArtTopic = function(topic) {
        document.getElementById('topicInput').value = topic;
        startBrailleArtSession();
    };

    window.startBrailleArtSession = function() {
        const topicInput = document.getElementById('topicInput');
        const topic = topicInput.value.trim();
        
        if (!topic) {
            showToast('Please enter a topic first!', 'error');
            return;
        }

        // Use hardcoded content or generate generic content
        const content = brailleArtLearningContent[topic] || generateGenericBrailleContent(topic);
        
        // Display the learning session interface
        displayBrailleArt(content);

        // Show the session interface
        document.getElementById('brailleArtLearningSession').style.display = 'block';

        // Scroll to session
        document.getElementById('brailleArtLearningSession').scrollIntoView({ 
            behavior: 'smooth' 
        });
    };


    window.startBrailleSession = function() {
        const topicInput = document.getElementById('brailleTopicInput');
        const topic = topicInput.value.trim();
        
        if (!topic) {
            showToast('Please enter a topic first!', 'error');
            return;
        }

        // Use hardcoded content or generate generic content
        const content = brailleLearningContent[topic] || generateGenericBrailleContent(topic);
        
        // Display the learning session interface
        displayBrailleSession(content);
        
        // Show the session interface
        document.getElementById('brailleLearningSession').style.display = 'block';
        
        // Scroll to session
        document.getElementById('brailleLearningSession').scrollIntoView({ 
            behavior: 'smooth' 
        });
        
        showToast('Learning session started successfully!', 'success');
    };

    function generateGenericBrailleContent(topic) {
        return {
            title: topic,
            content: `This is a learning session about ${topic}. This educational content will help you practice your Braille typing skills while learning about this interesting topic. Listen carefully to the audio and type what you hear using the Braille keyboard below.`,
            brailleText: `⠠⠞⠓⠊⠎ ⠊⠎ ⠁ ⠇⠑⠁⠗⠝⠊⠝⠛ ⠎⠑⠎⠎⠊⠕⠝ ⠁⠃⠕⠥⠞ ${topic.substring(0, 10)}⠲`
        };
    }

    function displayBrailleArt(content) {
        // Update content display
        document.getElementById('brailleArtTopicTitle').textContent = content.title;
        document.getElementById('brailleArtCaption').textContent = content.caption;
        document.getElementById('brailleArt').textContent = content.brailleArt;
        const brailleArt = document.getElementById('brailleArt');
    if (brailleArt) {
        brailleArt.textContent = content.brailleArt;
        // Ensure the textarea preserves whitespace and line breaks
        brailleArt.style.whiteSpace = 'pre';
        brailleArt.style.fontFamily = 'monospace';
    }
    }

    function displayBrailleSession(content) {
        // Update content display
        document.getElementById('currentTopicTitle').textContent = content.title;
        document.getElementById('originalContentText').textContent = content.content;
        // document.getElementById('originalBrailleText').textContent = content.brailleText;
        document.getElementById('originalBrailleText').textContent = content.content;

        // Clear previous input
        document.getElementById('studentBrailleInput').value = '';
        
        // Hide comparison results
        document.getElementById('comparisonResults').style.display = 'none';
        
        // Reset audio controls
        resetAudioControls();
    }

    const synth = window.speechSynthesis;
    window.playContent = function() {
        const playBtn = document.getElementById('playContentBtn');
        const pauseBtn = document.getElementById('pauseContentBtn');
        const progressSection = document.getElementById('audioProgressSection');
        
        if (!contentPlaying) {
            // Start playing
            contentPlaying = true;
            playBtn.style.display = 'none';
            pauseBtn.style.display = 'inline-flex';
            progressSection.style.display = 'flex';
            
            // Simulate audio playback
            contentProgress = 0;
            contentInterval = setInterval(() => {
                contentProgress += 1;
                if (contentProgress >= 105) { // 1:45 = 105 seconds
                    stopContentAudio();
                    return;
                }
                updateContentProgress();
            }, 1000);

            const element = document.getElementById("originalContentText");
            if (!element) {
            console.warn("Element with id 'slide-description' not found.");
            return;
            }

            const text = element.innerText || element.textContent || "";
            if (!text.trim()) {
            console.warn("No text to speak.");
            return;
            }

            // Cancel any ongoing speech
            synth.cancel();

            // Wait for voices to be ready
            const waitForVoices = new Promise(resolve => {
            let voices = synth.getVoices();
            if (voices.length) return resolve(voices);

            synth.onvoiceschanged = () => {
                voices = synth.getVoices();
                resolve(voices);
            };
            });

            waitForVoices.then(voices => {
            // Choose Indian voice if available
            const selectedVoice = voices.find(
                v => v.name.includes("India") || v.lang === "en-IN"
            ) || voices[0];

            // Split text into 2–3 word chunks
            const words = text.trim().split(/\s+/);
            const chunks = [];
            for (let i = 0; i < words.length; i += 3) {
                chunks.push(words.slice(i, i + 3).join(" "));
            }

            let index = 0;

            function speakChunk() {
                if (index >= chunks.length) return;

                const utterance = new SpeechSynthesisUtterance(chunks[index]);
                utterance.voice = selectedVoice;
                utterance.lang = selectedVoice.lang;
                utterance.rate = 0.75;  // Slower for dictation
                utterance.pitch = 1;

                utterance.onend = () => {
                index++;
                setTimeout(speakChunk, 800); // Pause between chunks (ms)
                };

                utterance.onerror = (e) => {
                console.error("Speech error:", e.error);
                };

                synth.speak(utterance);
            }

            speakChunk(); // Start dictation
            }).catch(err => {
            console.error("Voice loading failed:", err);
            });

            showToast('Content audio playing', 'success');
        }
    };

    // window.pauseContent = function() {
    //     stopContentAudio();
    // };

    
//   function playContent() {
//     const element = document.getElementById("slide-description");
//     if (!element) {
//       console.warn("Element with id 'slide-description' not found.");
//       return;
//     }

//     const text = element.innerText || element.textContent || "";
//     if (!text.trim()) {
//       console.warn("No text to speak.");
//       return;
//     }

//     speechSynthesis.cancel();

//     const words = text.trim().split(/\s+/);
//     const chunks = [];
//     for (let i = 0; i < words.length; i += 3) {
//       chunks.push(words.slice(i, i + 3).join(" "));
//     }

//     let voices = speechSynthesis.getVoices();
//     let selectedVoice = voices.find(v => v.name.includes("India") || v.lang === "en-IN") || voices[0];

//     if (!voices.length) {
//       speechSynthesis.onvoiceschanged = () => {
//         voices = speechSynthesis.getVoices();
//         selectedVoice = voices.find(v => v.name.includes("India") || v.lang === "en-IN") || voices[0];
//       };
//     }

//     let currentChunkIndex = 0;

//     function speakChunk(index) {
//       if (index < 0 || index >= chunks.length) return;
//       speechSynthesis.cancel(); // Stop current utterance

//       const utterance = new SpeechSynthesisUtterance(chunks[index]);
//       utterance.voice = selectedVoice;
//       utterance.lang = selectedVoice.lang;
//       utterance.rate = 0.65;
//       utterance.pitch = 1;

//       speechSynthesis.speak(utterance);
//     }

//     function handleKeyNavigation(event) {
//       if (event.ctrlKey && event.key === "ArrowLeft") {
//         // Rewind to previous chunk
//         if (currentChunkIndex > 0) {
//           currentChunkIndex--;
//           speakChunk(currentChunkIndex);
//         }
//         event.preventDefault();
//       } else if (event.ctrlKey && event.key === "ArrowRight") {
//         // Forward to next chunk
//         if (currentChunkIndex < chunks.length - 1) {
//           currentChunkIndex++;
//           speakChunk(currentChunkIndex);
//         }
//         event.preventDefault();
//       }
//     }

//     // Start speaking from the beginning
//     currentChunkIndex = 0;
//     speakChunk(currentChunkIndex);

//     // Attach keyboard control (once)
//     document.removeEventListener("keydown", handleKeyNavigation); // avoid duplicates
//     document.addEventListener("keydown", handleKeyNavigation);
//   }


    const input = document.getElementById("studentBrailleInput");

let caretPos = 0;
let chunks = [];
let currentChunkIndex = 0;
let volume = 1;
let selectedVoice = null;
let isSpeaking = false;

let currentUtterance = null;
//const synth = window.speechSynthesis;

function prepareChunks(text) {
  const words = text.trim().split(/\s+/);
  const result = [];
  for (let i = 0; i < words.length; i += 3) {
    result.push(words.slice(i, i + 3).join(" "));
  }
  return result;
}

function getVoice() {
  const voices = synth.getVoices();
  return voices.find(v => v.name.includes("India") || v.lang === "en-IN") || voices[0];
}

function speakChunk(index) {
  if (index < 0 || index >= chunks.length) return;

  synth.cancel();

  const utterance = new SpeechSynthesisUtterance(chunks[index]);
  currentUtterance = utterance;

  utterance.voice = selectedVoice;
  utterance.lang = selectedVoice?.lang || "en-US";
  utterance.rate = 0.75;
  utterance.pitch = 1;
  utterance.volume = volume;

  isSpeaking = true;

  utterance.onend = () => {
    isSpeaking = false;
  };

  synth.speak(utterance);
}

function startSpeaking() {
  synth.cancel();
  const text = input.value;
  if (!text.trim()) {
    alert("Textarea is empty!");
    return;
  }
  chunks = prepareChunks(text);
  currentChunkIndex = 0;

  if (synth.getVoices().length === 0) {
    synth.onvoiceschanged = () => {
      selectedVoice = getVoice();
      synth.onvoiceschanged = null;
      speakChunk(currentChunkIndex);
    };
  } else {
    selectedVoice = getVoice();
    speakChunk(currentChunkIndex);
  }
}

function stopSpeaking() {
  synth.cancel();
  isSpeaking = false;
}

window.pauseContent = function() {
    //synth.cancel();
  if (synth.speaking && !synth.paused) {
    synth.pause();
    console.log("Speech paused");
  }
  stopContentAudio();
}

function resumeContent() {
  if (synth.paused) {
    synth.resume();
    console.log("Speech resumed");
  }
}

// ❄️ Preserve caret position
input.addEventListener("input", () => {
  caretPos = input.selectionStart;
});
input.addEventListener("mouseup", (e) => {
  e.preventDefault();
  input.setSelectionRange(caretPos, caretPos);
});
input.addEventListener("keyup", () => {
  input.setSelectionRange(caretPos, caretPos);
});

// ⌨️ Arrow key navigation (no spacebar!)
document.addEventListener("keydown", (e) => {
  const key = e.key;
  const isInInput = document.activeElement === input;

  if (["ArrowLeft", "ArrowRight", "ArrowUp", "ArrowDown"].includes(key)) {
    e.preventDefault();

    switch (key) {
      case "ArrowLeft":
        if (currentChunkIndex > 0) {
          currentChunkIndex--;
          speakChunk(currentChunkIndex);
        }
        break;

      case "ArrowRight":
        if (currentChunkIndex < chunks.length - 1) {
          currentChunkIndex++;
          speakChunk(currentChunkIndex);
        }
        break;

      case "ArrowUp":
        volume = Math.min(1, volume + 0.1);
        speakChunk(currentChunkIndex);
        break;

      case "ArrowDown":
        volume = Math.max(0, volume - 0.1);
        speakChunk(currentChunkIndex);
        break;
    }
  }

  // 🔕 Do not use Space key for any shortcuts
});

    function stopContentAudio() {
        contentPlaying = false;
        const playBtn = document.getElementById('playContentBtn');
        const pauseBtn = document.getElementById('pauseContentBtn');
        
        if (playBtn && pauseBtn) {
            playBtn.style.display = 'inline-flex';
            pauseBtn.style.display = 'none';
        }
        
        if (contentInterval) {
            clearInterval(contentInterval);
            contentInterval = null;
        }
        
        showToast('Content audio stopped', 'info');
    }

    function updateContentProgress() {
        const progressFill = document.getElementById('contentProgressFill');
        const currentTime = document.getElementById('currentTime');
        
        if (progressFill && currentTime) {
            const percentage = (contentProgress / 105) * 100;
            progressFill.style.width = percentage + '%';
            
            const minutes = Math.floor(contentProgress / 60);
            const seconds = contentProgress % 60;
            currentTime.textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
        }
    }

    function resetAudioControls() {
        const playBtn = document.getElementById('playContentBtn');
        const pauseBtn = document.getElementById('pauseContentBtn');
        const progressSection = document.getElementById('audioProgressSection');
        
        if (playBtn) playBtn.style.display = 'inline-flex';
        if (pauseBtn) pauseBtn.style.display = 'none';
        if (progressSection) progressSection.style.display = 'none';
        
        contentPlaying = false;
        contentProgress = 0;
        
        if (contentInterval) {
            clearInterval(contentInterval);
            contentInterval = null;
        }
    }

    // Virtual Braille Keyboard Functions
    window.insertBraille = function(character) {
        const input = document.getElementById('studentBrailleInput');
        const start = input.selectionStart;
        const end = input.selectionEnd;
        const text = input.value;
        
        input.value = text.substring(0, start) + character + text.substring(end);
        input.setSelectionRange(start + character.length, start + character.length);
        input.focus();
    };

    window.clearBrailleInput = function() {
        document.getElementById('studentBrailleInput').value = '';
        document.getElementById('studentBrailleInput').focus();
    };

    window.clearTyping = function() {
        if (confirm('Are you sure you want to clear all your typing?')) {
            clearBrailleInput();
            showToast('Typing cleared', 'info');
        }
    };

    // Typing Completion and Comparison
    window.completeTyping = function() {
        const studentInput = document.getElementById('studentBrailleInput').value.trim();
        const originalBraille = document.getElementById('originalBrailleText').textContent.trim();
        
        if (!studentInput) {
            showToast('Please type some Braille text first!', 'error');
            return;
        }
        
        // Stop audio if playing
        // stopContentAudio();
        
        // Perform comparison
        const comparisonResult = compareBrailleTexts(originalBraille, studentInput);
        
        // Display results
        displayComparisonResults(comparisonResult, originalBraille, studentInput);
        
        // Show comparison section
        document.getElementById('comparisonResults').style.display = 'block';
        
        // Scroll to results
        document.getElementById('comparisonResults').scrollIntoView({ 
            behavior: 'smooth' 
        });
        
        showToast('Typing assessment completed!', 'success');
    };

    // function compareBrailleTexts(original, student) {
    //     const originalWords = original.split(/\s+/);
    //     const studentWords = student.split(/\s+/);
        
    //     let correctWords = 0;
    //     let totalErrors = 0;
    //     const errors = [];
        
    //     // Simple word-by-word comparison
    //     const maxLength = Math.max(originalWords.length, studentWords.length);
        
    //     for (let i = 0; i < maxLength; i++) {
    //         const originalWord = originalWords[i] || '';
    //         const studentWord = studentWords[i] || '';
            
    //         if (originalWord === studentWord) {
    //             correctWords++;
    //         } else {
    //             totalErrors++;
    //             errors.push({
    //                 position: i + 1,
    //                 expected: originalWord,
    //                 actual: studentWord,
    //                 type: !originalWord ? 'extra' : !studentWord ? 'missing' : 'incorrect'
    //             });
    //         }
    //     }

    function compareBrailleTexts(original, student) { 
        const originalWords = original.split(/\s+/).map(w =>
            w.replace(/[^\w]/g, '').toLowerCase()
        ).filter(Boolean);

        const studentWords = student.split(/\s+/).map(w =>
            w.replace(/[^\w]/g, '').toLowerCase()
        ).filter(Boolean);

        let correctWords = 0;
        let totalErrors = 0;
        const errors = [];
        
        // Simple word-by-word comparison
        const maxLength = Math.max(originalWords.length, studentWords.length);
        
        for (let i = 0; i < maxLength; i++) {
            const originalWord = originalWords[i] || '';
            const studentWord = studentWords[i] || '';
            
            if (originalWord === studentWord) {
                correctWords++;
            } else {
                totalErrors++;
                errors.push({
                    position: i + 1,
                    expected: originalWord,
                    actual: studentWord,
                    type: !originalWord ? 'extra' : !studentWord ? 'missing' : 'incorrect'
                });
            }
        }

        
        
        const accuracy = originalWords.length > 0 ? Math.round((correctWords / originalWords.length) * 100) : 0;
        
        return {
            accuracy,
            correctWords,
            totalErrors,
            errors,
            totalWords: originalWords.length
        };
    }

    function displayComparisonResults(result, original, student) {
        // Update stats
        document.getElementById('accuracyScore').textContent = result.accuracy + '%';
        document.getElementById('wordsCorrect').textContent = result.correctWords + '/' + result.totalWords;
        document.getElementById('totalErrors').textContent = result.totalErrors;
        
        // Highlight student input
        const studentDisplay = document.getElementById('studentBrailleDisplay');
        studentDisplay.innerHTML = highlightDifferences(student, result.errors);
        
        // Display error list
        const errorList = document.getElementById('errorList');
        if (result.errors.length === 0) {
            errorList.innerHTML = '<div style="text-align: center; color: #27ae60; font-weight: 600;">Perfect! No errors found.</div>';
        } else {
            errorList.innerHTML = result.errors.map((error, index) => `
                <div class="error-item">
                    <div class="error-position">Error ${index + 1} at word position ${error.position}:</div>
                    <div class="error-details">
                        Expected: "${error.expected}" | 
                        ${error.type === 'missing' ? 'Missing word' : 
                          error.type === 'extra' ? 'Extra word' : 
                          `Got: "${error.actual}"`}
                    </div>
                </div>
            `).join('');
        }
    }

    function highlightDifferences(studentText, errors) {
        const words = studentText.split(/\s+/);
        const errorPositions = new Set(errors.map(e => e.position - 1));
        
        return words.map((word, index) => {
            if (errorPositions.has(index)) {
                return `<span class="error-highlight">${word}</span>`;
            } else {
                return `<span class="correct-match">${word}</span>`;
            }
        }).join(' ');
    }

    // Audio Feedback
    window.playFeedbackAudio = function() {
        const errors = JSON.parse(sessionStorage.getItem('currentErrors') || '[]');
        
        if (errors.length === 0) {
            showToast('Excellent work! No corrections needed.', 'success');
            return;
        }
        
        // Simulate feedback audio
        showToast('Playing audio feedback with corrections...', 'info');
        
        // In a real implementation, this would use text-to-speech
        setTimeout(() => {
            showToast('Audio feedback completed', 'success');
        }, 3000);
    };

    // Session Management
    window.saveLearningSession = function() {
        const topic = document.getElementById('currentTopicTitle').textContent;
        const accuracy = document.getElementById('accuracyScore').textContent;
        const correctWords = document.getElementById('wordsCorrect').textContent;
        const totalErrors = document.getElementById('totalErrors').textContent;
        
        const sessions = JSON.parse(localStorage.getItem('brailleLearningHistory') || '[]');
        const newSession = {
            id: Date.now().toString(),
            topic: topic,
            accuracy: accuracy,
            correctWords: correctWords,
            totalErrors: totalErrors,
            date: new Date().toLocaleDateString(),
            time: new Date().toLocaleTimeString(),
            timestamp: Date.now()
        };
        
        sessions.unshift(newSession);
        localStorage.setItem('brailleLearningHistory', JSON.stringify(sessions.slice(0, 20))); // Keep latest 20
        
        loadBrailleSessionHistory();
        showToast(`Learning session saved successfully!`, 'success');
    };

    window.startNewSession = function() {
        if (confirm('Start a new learning session? Current progress will be lost if not saved.')) {
            document.getElementById('brailleTopicInput').value = '';
            document.getElementById('brailleLearningSession').style.display = 'none';
            document.getElementById('brailleTopicInput').focus();
            showToast('Ready for new learning session', 'info');
        }
    };

    window.printResults = function() {
        showToast('Preparing printable learning report...', 'success');
        setTimeout(() => {
            showToast('Learning report ready for download', 'success');
        }, 2000);
    };

    // Session History Management
    function loadBrailleSessionHistory() {
        const sessions = JSON.parse(localStorage.getItem('brailleLearningHistory') || '[]');
        const historyList = document.getElementById('brailleSessionHistory');
        
        if (!historyList) return;
        
        if (sessions.length === 0) {
            historyList.innerHTML = '<p style="text-align: center; color: #666; padding: 20px;">No learning sessions yet. Complete a session to see your history here.</p>';
            return;
        }
        
        historyList.innerHTML = sessions.map(session => `
            <div class="history-item">
                <div class="history-info">
                    <div class="history-topic">${session.topic}</div>
                    <div class="history-meta">
                        ${session.date} at ${session.time} | 
                        Correct: ${session.correctWords} | 
                        Errors: ${session.totalErrors}
                    </div>
                </div>
                <div class="history-score">${session.accuracy}</div>
                <div class="history-actions">
                    <button class="history-btn" onclick="loadBrailleSession('${session.topic}')">Retry</button>
                    <button class="history-btn delete" onclick="deleteBrailleSession('${session.id}')">Delete</button>
                </div>
            </div>
        `).join('');
    }

    window.loadBrailleSession = function(topic) {
        document.getElementById('brailleTopicInput').value = topic;
        startBrailleSession();
        showToast(`Loaded topic: ${topic}`, 'success');
    };

    window.deleteBrailleSession = function(sessionId) {
        if (confirm('Delete this learning session?')) {
            const sessions = JSON.parse(localStorage.getItem('brailleLearningHistory') || '[]');
            const filteredSessions = sessions.filter(session => session.id !== sessionId);
            localStorage.setItem('brailleLearningHistory', JSON.stringify(filteredSessions));
            loadBrailleSessionHistory();
            showToast('Session deleted successfully', 'success');
        }
    };

    // ============================================================================
    // TEXT TO BRAILLE CONVERTER FUNCTIONS
    // ============================================================================

    let currentConversionData = {};

    // Text input event listeners
    document.addEventListener('DOMContentLoaded', function() {
        const textInput = document.getElementById('textInput');
        if (textInput) {
            textInput.addEventListener('input', updateInputStats);
            textInput.addEventListener('paste', function() {
                setTimeout(updateInputStats, 10);
            });
        }
    });

    function updateInputStats() {
        const textInput = document.getElementById('textInput');
        const text = textInput.value;
        
        const charCount = text.length;
        const wordCount = text.trim() ? text.trim().split(/\s+/).length : 0;
        const lineCount = text.split('\n').length;
        
        document.getElementById('charCount').innerHTML = `<i class="fas fa-font"></i> Characters: ${charCount.toLocaleString()}`;
        document.getElementById('wordCount').innerHTML = `<i class="fas fa-align-left"></i> Words: ${wordCount.toLocaleString()}`;
        document.getElementById('lineCount').innerHTML = `<i class="fas fa-list-ol"></i> Lines: ${lineCount.toLocaleString()}`;
    }

    window.loadSampleText = function() {
        const sampleText = `Understanding the Moon's Changing Looks

Have you ever thought about how the Moon appears to change in the night sky? Sometimes it feels like a tiny sliver, other times it feels like a big, bright circle! These changes are not because the Moon is actually changing its shape, but because of how much of its surface is lit up by the Sun as the Moon travels around the Earth. These different appearances are called lunar phases, and there are eight of them. The Moon goes through all these phases in about a month!

The Moon's Eight Appearances

Let's explore the different ways the Moon appears to us:

New Moon: Imagine the Moon is like a quiet friend. During a new moon, it's positioned between the Sun and Earth, so the side facing us isn't lit up at all. We can't sense it in the sky!

Getting Brighter: Waxing!

After the new moon, a little bit of the Moon starts to get light, and it gets brighter each night. This is called waxing. Think of it like something slowly growing bigger and brighter.

Waxing Crescent: This is when we can notice just a tiny, bright curve of the Moon. Less than half of the Moon is lit. Since it's waxing, this bright curve is on the right side of the Moon.

First Quarter: Now, half of the Moon feels bright! Even though it's called "first quarter," it means the Moon has finished one-fourth of its trip around Earth. The right half is bright.

This sample text demonstrates various features including paragraphs, headings, and special formatting that will be converted to proper Braille format.`;
        
        document.getElementById('textInput').value = sampleText;
        updateInputStats();
        showToast('Sample text loaded successfully', 'success');
    };

    window.clearInputText = function() {
        document.getElementById('textInput').value = '';
        updateInputStats();
        document.getElementById('conversionResults').style.display = 'none';
        showToast('Text cleared', 'info');
    };

    window.convertTextToBraille = async function() {
        const textInput = document.getElementById('textInput');
        const text = textInput.value.trim();
        
        if (!text) {
            showToast('Please enter some text to convert', 'error');
            return;
        }

        const convertBtn = document.getElementById('convertTextBtn');
        const progressSection = document.getElementById('conversionProgress');
        const resultsSection = document.getElementById('conversionResults');
        
        // Disable button and show progress
        convertBtn.disabled = true;
        // convertBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> <span class="btn-text">Converting...</span>';
        progressSection.style.display = 'block';
        resultsSection.style.display = 'none';
        
        const startTime = Date.now();
        
        try {
            // Prepare conversion request
            const includeImages = document.getElementById('includeImages').checked;
            const generateBRF = document.getElementById('generateBRF').checked;
            
            const conversionConfig = {
                braille_settings: {
                    tab_width: 4,
                    preserve_line_breaks: true,
                    skip_carriage_returns: true
                },
                embosser_settings: {
                    line_length: 40,
                    page_length: 25,
                    include_page_numbers: true,
                    tab_spaces: 2,
                    validate_output: true
                },
                braille_art_settings: {
                    process_images: includeImages,
                    target_width: 38,
                    target_height: 24,
                    contrast_boost: 1.5,
                    brightness_boost: 1.2,
                    edge_enhance: true,
                    use_8dot_braille: false,
                    threshold: 128,
                    invert_colors: false,
                    include_border: true,
                    border_char: "⠿"
                }
            };

            // Update progress
            updateConversionProgress(10, 'Preparing conversion request...');
            
            // Call API
            const response = await fetch('/api/convert', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    text: text,
                    config: conversionConfig
                })
            });
            
            if (!response.ok) {
                throw new Error(`API Error: ${response.status} ${response.statusText}`);
            }
            
            updateConversionProgress(50, 'Processing text conversion...');
            
            const result = await response.json();
            
            updateConversionProgress(90, 'Finalizing results...');
            
            // Store conversion data
            currentConversionData = {
                original_text: text,
                unicode_braille: result.braille_unicode || '',
                brf_format: result.braille_brf || '',
                analysis: result.analysis || {},
                processing_time: Date.now() - startTime
            };
            
            updateConversionProgress(100, 'Conversion completed!');
            
            // Show results after a brief delay
            setTimeout(() => {
                displayConversionResults();
                progressSection.style.display = 'none';
                resultsSection.style.display = 'block';
                showToast('Text converted to Braille successfully!', 'success');
            }, 500);
            
        } catch (error) {
            console.error('Conversion error:', error);
            progressSection.style.display = 'none';
            showToast(`Conversion failed: ${error.message}`, 'error');
        } finally {
            // Re-enable button
            convertBtn.disabled = false;
            convertBtn.innerHTML = '<i class="fas fa-magic"></i> <span class="btn-text">Convert to Braille</span>';
        }
    };

    function updateConversionProgress(percentage, status) {
        const progressFill = document.getElementById('progressFill');
        const progressText = document.getElementById('progressText');
        const progressStatus = document.getElementById('progressStatus');
        
        progressFill.style.width = `${percentage}%`;
        progressText.textContent = `${percentage}%`;
        progressStatus.textContent = status;
    }

    function displayConversionResults() {
        const { unicode_braille, brf_format, analysis, processing_time } = currentConversionData;
        
        // Populate result textareas
        document.getElementById('unicodeBraille').value = unicode_braille || 'No Unicode Braille output generated';
        document.getElementById('brfFormat').value = brf_format || 'No BRF format output generated';
        
        // Update analysis statistics
        document.getElementById('totalChars').textContent = (analysis.character_count || 0).toLocaleString();
        document.getElementById('brailleChars').textContent = (analysis.braille_character_count || 0).toLocaleString();
        document.getElementById('braillePages').textContent = (analysis.page_count || 0).toLocaleString();
        document.getElementById('conversionTime').textContent = `${processing_time}ms`;
        
        // Display validation results
        const validationResults = document.getElementById('validationResults');
        if (analysis.validation) {
            const validation = analysis.validation;
            validationResults.innerHTML = `
                <h5><i class="fas fa-check-circle"></i> Validation Results</h5>
                <div class="validation-item">
                    <strong>Embosser Compliance:</strong> ${validation.embosser_compliant ? '✅ Compliant' : '❌ Non-compliant'}
                </div>
                <div class="validation-item">
                    <strong>Character Encoding:</strong> ${validation.encoding_valid ? '✅ Valid' : '❌ Invalid'}
                </div>
                <div class="validation-item">
                    <strong>Line Length:</strong> ${validation.line_length_valid ? '✅ Valid' : '❌ Invalid'}
                </div>
            `;
        } else {
            validationResults.innerHTML = '<p>No validation data available</p>';
        }
    }

    window.switchResultTab = function(tabName) {
        // Update tab buttons
        document.querySelectorAll('.result-tab').forEach(tab => {
            tab.classList.remove('active');
        });
        document.querySelector(`[data-tab="${tabName}"]`).classList.add('active');
        
        // Update panels
        document.querySelectorAll('.result-panel').forEach(panel => {
            panel.classList.remove('active');
        });
        document.getElementById(`${tabName}-panel`).classList.add('active');
    };

    window.copyToClipboard = function(elementId) {
        const element = document.getElementById(elementId);
        const text = element.value;
        
        if (!text) {
            showToast('No content to copy', 'error');
            return;
        }
        
        navigator.clipboard.writeText(text).then(() => {
            showToast('Copied to clipboard successfully', 'success');
        }).catch(err => {
            console.error('Copy failed:', err);
            showToast('Failed to copy to clipboard', 'error');
        });
    };

    window.downloadFile = function(format) {
        let content, filename, mimeType;
        
        if (format === 'unicode') {
            content = currentConversionData.unicode_braille || '';
            filename = 'braille_unicode.txt';
            mimeType = 'text/plain;charset=utf-8';
        } else if (format === 'brf') {
            content = currentConversionData.brf_format || '';
            filename = 'braille_embosser.brf';
            mimeType = 'text/plain;charset=utf-8';
        }
        
        if (!content) {
            showToast('No content to download', 'error');
            return;
        }
        
        const blob = new Blob([content], { type: mimeType });
        const url = URL.createObjectURL(blob);
        const link = document.createElement('a');
        link.href = url;
        link.download = filename;
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
        URL.revokeObjectURL(url);
        
        showToast(`Downloaded ${filename} successfully`, 'success');
    };

    window.sendToBraaS = function() {
        const brfContent = currentConversionData.brf_format;
        
        if (!brfContent) {
            showToast('No BRF content available to send', 'error');
            return;
        }
        
        // Switch to BRaaS service tab
        activateTool('braille-service');
        
        // Show success message
        showToast('Redirected to Braille as a Service platform', 'info');
        
        // In a real implementation, you would integrate with the BRaaS API
        // For now, we'll just show a mock integration
        setTimeout(() => {
            showToast('BRF file prepared for vendor printing services', 'success');
        }, 1000);
    };

    // ============================================================================
    // END TEXT TO BRAILLE CONVERTER FUNCTIONS
    // ============================================================================
});
</script>

<!-- Language Dropdown Script -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    const languageBtn = document.getElementById('languageBtn');
    const languageOptions = document.getElementById('languageOptions');
    
    if (languageBtn && languageOptions) {
        // Simple dropdown toggle
        languageBtn.addEventListener('click', function(e) {
            e.stopPropagation();
            
            const isVisible = languageOptions.style.display === 'block';
            languageOptions.style.display = isVisible ? 'none' : 'block';
            languageOptions.classList.toggle('show', !isVisible);
        });
        
        // Close dropdown when clicking outside
        document.addEventListener('click', function(e) {
            if (!languageBtn.contains(e.target) && !languageOptions.contains(e.target)) {
                languageOptions.style.display = 'none';
                languageOptions.classList.remove('show');
            }
        });
        
        // Handle language selection
        const languageOptionsElements = languageOptions.querySelectorAll('.language-option');
        languageOptionsElements.forEach(option => {
            option.addEventListener('click', function(e) {
                e.stopPropagation();
                
                // Update button display
                const flagSpan = languageBtn.querySelector('.language-flag');
                const nameSpan = languageBtn.querySelector('.language-name');
                const optionFlag = this.querySelector('.option-flag').textContent;
                const optionName = this.querySelector('.option-name').textContent;
                
                if (flagSpan) flagSpan.textContent = optionFlag;
                if (nameSpan) nameSpan.textContent = optionName;
                
                // Update active state
                languageOptionsElements.forEach(opt => opt.classList.remove('active'));
                this.classList.add('active');
                
                // Close dropdown
                languageOptions.style.display = 'none';
                languageOptions.classList.remove('show');
            });
        });
    }
});
</script>

</body>
</html>
